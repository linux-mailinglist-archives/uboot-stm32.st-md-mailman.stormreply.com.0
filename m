Return-Path: <uboot-stm32-bounces@st-md-mailman.stormreply.com>
X-Original-To: lists+uboot-stm32@lfdr.de
Delivered-To: lists+uboot-stm32@lfdr.de
Received: from stm-ict-prod-mailman-01.stormreply.prv (st-md-mailman.stormreply.com [52.209.6.89])
	by mail.lfdr.de (Postfix) with ESMTPS id D3356484F76
	for <lists+uboot-stm32@lfdr.de>; Wed,  5 Jan 2022 09:43:16 +0100 (CET)
Received: from ip-172-31-3-47.eu-west-1.compute.internal (localhost [127.0.0.1])
	by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTP id 9B81EC5F1F5;
	Wed,  5 Jan 2022 08:43:16 +0000 (UTC)
Received: from mout-u-204.mailbox.org (mout-u-204.mailbox.org [91.198.250.253])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTPS id 3ECCDC5A4FD
 for <uboot-stm32@st-md-mailman.stormreply.com>;
 Wed,  5 Jan 2022 08:43:15 +0000 (UTC)
Received: from smtp1.mailbox.org (unknown [91.198.250.123])
 (using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
 key-exchange ECDHE (P-384) server-signature RSA-PSS (4096 bits) server-digest
 SHA256) (No client certificate requested)
 by mout-u-204.mailbox.org (Postfix) with ESMTPS id 4JTNKt3NFJzQlHG;
 Wed,  5 Jan 2022 09:43:14 +0100 (CET)
X-Virus-Scanned: amavisd-new at heinlein-support.de
Message-ID: <22df547d-ba75-6147-d931-f08bb63591c3@denx.de>
Date: Wed, 5 Jan 2022 09:43:09 +0100
MIME-Version: 1.0
Content-Language: en-US
To: Patrick Delaunay <patrick.delaunay@foss.st.com>, u-boot@lists.denx.de
References: <20220104132401.3573475-1-patrick.delaunay@foss.st.com>
 <20220104142328.v1.2.I0180e07a31210ff2679a02de4221a54e12169593@changeid>
From: Stefan Roese <sr@denx.de>
In-Reply-To: <20220104142328.v1.2.I0180e07a31210ff2679a02de4221a54e12169593@changeid>
Cc: Marek Vasut <marex@denx.de>, Vignesh R <vigneshr@ti.com>,
 Simon Glass <sjg@chromium.org>, Lukasz Majewski <lukma@denx.de>,
 =?UTF-8?Q?Marek_Beh=c3=ban?= <marek.behun@nic.cz>,
 Jagan Teki <jagan@amarulasolutions.com>,
 U-Boot STM32 <uboot-stm32@st-md-mailman.stormreply.com>
Subject: Re: [Uboot-stm32] [PATCH v1 2/5] mtd: cfi: introduce CFI_FLASH_BANKS
X-BeenThere: uboot-stm32@st-md-mailman.stormreply.com
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: <uboot-stm32.st-md-mailman.stormreply.com>
List-Unsubscribe: <https://st-md-mailman.stormreply.com/mailman/options/uboot-stm32>, 
 <mailto:uboot-stm32-request@st-md-mailman.stormreply.com?subject=unsubscribe>
List-Archive: <http://st-md-mailman.stormreply.com/pipermail/uboot-stm32/>
List-Post: <mailto:uboot-stm32@st-md-mailman.stormreply.com>
List-Help: <mailto:uboot-stm32-request@st-md-mailman.stormreply.com?subject=help>
List-Subscribe: <https://st-md-mailman.stormreply.com/mailman/listinfo/uboot-stm32>, 
 <mailto:uboot-stm32-request@st-md-mailman.stormreply.com?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: uboot-stm32-bounces@st-md-mailman.stormreply.com
Sender: "Uboot-stm32" <uboot-stm32-bounces@st-md-mailman.stormreply.com>

T24gMS80LzIyIDE0OjIzLCBQYXRyaWNrIERlbGF1bmF5IHdyb3RlOgo+IFJlcGxhY2UgQ09ORklH
X1NZU19NQVhfRkxBU0hfQkFOS1MgYnkgQ0ZJX0ZMQVNIX0JBTktTIHRvIHByZXBhcmUKPiBLY29u
ZmlnIG1pZ3JhdGlvbiBhbmQgYXZvaWQgdG8gcmVkZWZpbmUgQ09ORklHX1NZU19NQVhfRkxBU0hf
QkFOS1MKPiBpbiBjZmlfZmxhc2guaC4KPiAKPiBBZnRlciB0aGlzIHBhdGNoIENPTkZJR19TWVNf
TUFYX0ZMQVNIX0JBTktTIHNob3VsZCBiZSBuZXZlciB1c2VkIGluCj4gdGhlIGNmaSBjb2RlOiB1
c2UgQ0ZJX01BWF9GTEFTSF9CQU5LUyBmb3Igc3RydWN0IHNpemUgb3IgQ0ZJX0ZMQVNIX0JBTktT
Cj4gZm9yIG51bWJlciBvZiBDRkkgYmFua3Mgd2hpY2ggY2FuIGJlIGR5bmFtaWMuCj4gCj4gVGhp
cyBwYXRjaCBtb2RpZnkgYWxsIHRoZSBmaWxlcyB3aGljaCBpbmNsdWRlIG10ZC9jZmlfZmxhc2gu
aC4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBQYXRyaWNrIERlbGF1bmF5IDxwYXRyaWNrLmRlbGF1bmF5
QGZvc3Muc3QuY29tPgoKUmV2aWV3ZWQtYnk6IFN0ZWZhbiBSb2VzZSA8c3JAZGVueC5kZT4KClRo
YW5rcywKU3RlZmFuCgo+IC0tLQo+IAo+IENoYW5nZXMgaW4gdjE6Cj4gLSB1cGRhdGUgZHJpdmVy
cy9tdGQvc3BpL3NwaS1ub3ItY29yZS5jIGZvciBjZmlfbXRkX25iCj4gICAgbmVlZGVkIGFmdGVy
IFJGQyByZWJhc2UKPiAKPiAgIGNtZC9ib290bS5jICAgICAgICAgICAgICAgICAgICB8ICAyICst
Cj4gICBjbWQvZmxhc2guYyAgICAgICAgICAgICAgICAgICAgfCAzNCArKysrKysrKysrKysrKysr
Ky0tLS0tLS0tLS0tLS0tLS0tCj4gICBjb21tb24vZmxhc2guYyAgICAgICAgICAgICAgICAgfCAg
MiArLQo+ICAgY29tbW9uL3VwZGF0ZS5jICAgICAgICAgICAgICAgIHwgIDQgKystLQo+ICAgZHJp
dmVycy9tdGQvY2ZpX2ZsYXNoLmMgICAgICAgIHwgIDQgKystLQo+ICAgZHJpdmVycy9tdGQvY2Zp
X210ZC5jICAgICAgICAgIHwgIDQgKystLQo+ICAgZHJpdmVycy9tdGQvc3BpL3NwaS1ub3ItY29y
ZS5jIHwgIDUgKystLS0KPiAgIGluY2x1ZGUvbXRkL2NmaV9mbGFzaC5oICAgICAgICB8ICA5ICsr
KysrKy0tLQo+ICAgOCBmaWxlcyBjaGFuZ2VkLCAzMyBpbnNlcnRpb25zKCspLCAzMSBkZWxldGlv
bnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEvY21kL2Jvb3RtLmMgYi9jbWQvYm9vdG0uYwo+IGluZGV4
IGI4MmE4NzJhODYuLmU4YjcwNjY4ODggMTAwNjQ0Cj4gLS0tIGEvY21kL2Jvb3RtLmMKPiArKysg
Yi9jbWQvYm9vdG0uYwo+IEBAIC0zMzgsNyArMzM4LDcgQEAgc3RhdGljIGludCBkb19pbWxzX25v
cih2b2lkKQo+ICAgCXZvaWQgKmhkcjsKPiAgIAo+ICAgCWZvciAoaSA9IDAsIGluZm8gPSAmZmxh
c2hfaW5mb1swXTsKPiAtCQlpIDwgQ09ORklHX1NZU19NQVhfRkxBU0hfQkFOS1M7ICsraSwgKytp
bmZvKSB7Cj4gKwkJaSA8IENGSV9GTEFTSF9CQU5LUzsgKytpLCArK2luZm8pIHsKPiAgIAo+ICAg
CQlpZiAoaW5mby0+Zmxhc2hfaWQgPT0gRkxBU0hfVU5LTk9XTikKPiAgIAkJCWdvdG8gbmV4dF9i
YW5rOwo+IGRpZmYgLS1naXQgYS9jbWQvZmxhc2guYyBiL2NtZC9mbGFzaC5jCj4gaW5kZXggNTk0
ZTJjYWE1OS4uZGI0YmIyNTI5YyAxMDA2NDQKPiAtLS0gYS9jbWQvZmxhc2guYwo+ICsrKyBiL2Nt
ZC9mbGFzaC5jCj4gQEAgLTYwLDcgKzYwLDcgQEAgYWJicmV2X3NwZWMoY2hhciAqc3RyLCBmbGFz
aF9pbmZvX3QgKipwaW5mbywgaW50ICpwc2YsIGludCAqcHNsKQo+ICAgCj4gICAJYmFuayA9IGRl
Y3RvdWwoc3RyLCAmZXApOwo+ICAgCWlmIChlcCA9PSBzdHIgfHwgKmVwICE9ICdcMCcgfHwKPiAt
CSAgICBiYW5rIDwgMSB8fCBiYW5rID4gQ09ORklHX1NZU19NQVhfRkxBU0hfQkFOS1MpCj4gKwkg
ICAgYmFuayA8IDEgfHwgYmFuayA+IENGSV9GTEFTSF9CQU5LUykKPiAgIAkJcmV0dXJuIC0xOwo+
ICAgCj4gICAJZnAgPSAmZmxhc2hfaW5mb1tiYW5rIC0gMV07Cj4gQEAgLTEwNCw3ICsxMDQsNyBA
QCBpbnQgZmxhc2hfc2VjdF9yb3VuZGIodWxvbmcgKmFkZHIpCj4gICAKPiAgIAkvKiBmaW5kIHRo
ZSBlbmQgYWRkciBvZiB0aGUgc2VjdG9yIHdoZXJlIHRoZSAqYWRkciBpcyAqLwo+ICAgCWZvdW5k
ID0gMDsKPiAtCWZvciAoYmFuayA9IDA7IGJhbmsgPCBDT05GSUdfU1lTX01BWF9GTEFTSF9CQU5L
UyAmJiAhZm91bmQ7ICsrYmFuaykgewo+ICsJZm9yIChiYW5rID0gMDsgYmFuayA8IENGSV9GTEFT
SF9CQU5LUyAmJiAhZm91bmQ7ICsrYmFuaykgewo+ICAgCQlpbmZvID0gJmZsYXNoX2luZm9bYmFu
a107Cj4gICAJCWZvciAoaSA9IDA7IGkgPCBpbmZvLT5zZWN0b3JfY291bnQgJiYgIWZvdW5kOyAr
K2kpIHsKPiAgIAkJCS8qIGdldCB0aGUgZW5kIGFkZHJlc3Mgb2YgdGhlIHNlY3RvciAqLwo+IEBA
IC0yMDEsMTMgKzIwMSwxMyBAQCBmbGFzaF9maWxsX3NlY3RfcmFuZ2VzKHVsb25nIGFkZHJfZmly
c3QsIHVsb25nIGFkZHJfbGFzdCwKPiAgIAo+ICAgCSpzX2NvdW50ID0gMDsKPiAgIAo+IC0JZm9y
IChiYW5rID0gMDsgYmFuayA8IENPTkZJR19TWVNfTUFYX0ZMQVNIX0JBTktTOyArK2JhbmspIHsK
PiArCWZvciAoYmFuayA9IDA7IGJhbmsgPCBDRklfRkxBU0hfQkFOS1M7ICsrYmFuaykgewo+ICAg
CQlzX2ZpcnN0W2JhbmtdID0gLTE7CS8qIGZpcnN0IHNlY3RvciB0byBlcmFzZQkqLwo+ICAgCQlz
X2xhc3RbYmFua10gPSAtMTsJLyogbGFzdCAgc2VjdG9yIHRvIGVyYXNlCSovCj4gICAJfQo+ICAg
Cj4gICAJZm9yIChiYW5rID0gMCwgaW5mbyA9ICZmbGFzaF9pbmZvWzBdOwo+IC0JICAgICAoYmFu
ayA8IENPTkZJR19TWVNfTUFYX0ZMQVNIX0JBTktTKSAmJiAoYWRkcl9maXJzdCA8PSBhZGRyX2xh
c3QpOwo+ICsJICAgICAoYmFuayA8IENGSV9GTEFTSF9CQU5LUykgJiYgKGFkZHJfZmlyc3QgPD0g
YWRkcl9sYXN0KTsKPiAgIAkgICAgICsrYmFuaywgKytpbmZvKSB7Cj4gICAJCXVsb25nIGJfZW5k
Owo+ICAgCQlpbnQgc2VjdDsKPiBAQCAtMjc4LDcgKzI3OCw3IEBAIHN0YXRpYyBpbnQgZG9fZmxp
bmZvKHN0cnVjdCBjbWRfdGJsICpjbWR0cCwgaW50IGZsYWcsIGludCBhcmdjLAo+ICAgCj4gICAj
aWZkZWYgQ09ORklHX01URF9OT1JfRkxBU0gKPiAgIAlpZiAoYXJnYyA9PSAxKSB7CS8qIHByaW50
IGluZm8gZm9yIGFsbCBGTEFTSCBiYW5rcyAqLwo+IC0JCWZvciAoYmFuayA9IDA7IGJhbmsgPCBD
T05GSUdfU1lTX01BWF9GTEFTSF9CQU5LUzsgKytiYW5rKSB7Cj4gKwkJZm9yIChiYW5rID0gMDsg
YmFuayA8IENGSV9GTEFTSF9CQU5LUzsgKytiYW5rKSB7Cj4gICAJCQlwcmludGYoIlxuQmFuayAj
ICVsZDogIiwgYmFuayArIDEpOwo+ICAgCj4gICAJCQlmbGFzaF9wcmludF9pbmZvKCZmbGFzaF9p
bmZvW2JhbmtdKTsKPiBAQCAtMjg3LDkgKzI4Nyw5IEBAIHN0YXRpYyBpbnQgZG9fZmxpbmZvKHN0
cnVjdCBjbWRfdGJsICpjbWR0cCwgaW50IGZsYWcsIGludCBhcmdjLAo+ICAgCX0KPiAgIAo+ICAg
CWJhbmsgPSBoZXh0b3VsKGFyZ3ZbMV0sIE5VTEwpOwo+IC0JaWYgKGJhbmsgPCAxIHx8IGJhbmsg
PiBDT05GSUdfU1lTX01BWF9GTEFTSF9CQU5LUykgewo+ICsJaWYgKGJhbmsgPCAxIHx8IGJhbmsg
PiBDRklfRkxBU0hfQkFOS1MpIHsKPiAgIAkJcHJpbnRmKCJPbmx5IEZMQVNIIEJhbmtzICMgMSAu
Li4gIyAlZCBzdXBwb3J0ZWRcbiIsCj4gLQkJICAgICAgIENPTkZJR19TWVNfTUFYX0ZMQVNIX0JB
TktTKTsKPiArCQkgICAgICAgQ0ZJX0ZMQVNIX0JBTktTKTsKPiAgIAkJcmV0dXJuIDE7Cj4gICAJ
fQo+ICAgCXByaW50ZigiXG5CYW5rICMgJWxkOiAiLCBiYW5rKTsKPiBAQCAtMzE2LDcgKzMxNiw3
IEBAIHN0YXRpYyBpbnQgZG9fZmxlcmFzZShzdHJ1Y3QgY21kX3RibCAqY21kdHAsIGludCBmbGFn
LCBpbnQgYXJnYywKPiAgIAkJcmV0dXJuIENNRF9SRVRfVVNBR0U7Cj4gICAKPiAgIAlpZiAoc3Ry
Y21wKGFyZ3ZbMV0sICJhbGwiKSA9PSAwKSB7Cj4gLQkJZm9yIChiYW5rID0gMTsgYmFuayA8PSBD
T05GSUdfU1lTX01BWF9GTEFTSF9CQU5LUzsgKytiYW5rKSB7Cj4gKwkJZm9yIChiYW5rID0gMTsg
YmFuayA8PSBDRklfRkxBU0hfQkFOS1M7ICsrYmFuaykgewo+ICAgCQkJcHJpbnRmKCJFcmFzZSBG
bGFzaCBCYW5rICMgJWxkICIsIGJhbmspOwo+ICAgCQkJaW5mbyA9ICZmbGFzaF9pbmZvW2Jhbmsg
LSAxXTsKPiAgIAkJCXJjb2RlID0gZmxhc2hfZXJhc2UoaW5mbywgMCwgaW5mby0+c2VjdG9yX2Nv
dW50IC0gMSk7Cj4gQEAgLTM2Niw5ICszNjYsOSBAQCBzdGF0aWMgaW50IGRvX2ZsZXJhc2Uoc3Ry
dWN0IGNtZF90YmwgKmNtZHRwLCBpbnQgZmxhZywgaW50IGFyZ2MsCj4gICAKPiAgIAlpZiAoc3Ry
Y21wKGFyZ3ZbMV0sICJiYW5rIikgPT0gMCkgewo+ICAgCQliYW5rID0gaGV4dG91bChhcmd2WzJd
LCBOVUxMKTsKPiAtCQlpZiAoYmFuayA8IDEgfHwgYmFuayA+IENPTkZJR19TWVNfTUFYX0ZMQVNI
X0JBTktTKSB7Cj4gKwkJaWYgKGJhbmsgPCAxIHx8IGJhbmsgPiBDRklfRkxBU0hfQkFOS1MpIHsK
PiAgIAkJCXByaW50ZigiT25seSBGTEFTSCBCYW5rcyAjIDEgLi4uICMgJWQgc3VwcG9ydGVkXG4i
LAo+IC0JCQkgICAgICAgQ09ORklHX1NZU19NQVhfRkxBU0hfQkFOS1MpOwo+ICsJCQkgICAgICAg
Q0ZJX0ZMQVNIX0JBTktTKTsKPiAgIAkJCXJldHVybiAxOwo+ICAgCQl9Cj4gICAJCXByaW50Zigi
RXJhc2UgRmxhc2ggQmFuayAjICVsZCAiLCBiYW5rKTsKPiBAQCAtMzk3LDcgKzM5Nyw3IEBAIGlu
dCBmbGFzaF9zZWN0X2VyYXNlKHVsb25nIGFkZHJfZmlyc3QsIHVsb25nIGFkZHJfbGFzdCkKPiAg
IHsKPiAgIAlmbGFzaF9pbmZvX3QgKmluZm87Cj4gICAJdWxvbmcgYmFuazsKPiAtCWludCBzX2Zp
cnN0W0NPTkZJR19TWVNfTUFYX0ZMQVNIX0JBTktTXSwgc19sYXN0W0NPTkZJR19TWVNfTUFYX0ZM
QVNIX0JBTktTXTsKPiArCWludCBzX2ZpcnN0W0NGSV9GTEFTSF9CQU5LU10sIHNfbGFzdFtDRklf
RkxBU0hfQkFOS1NdOwo+ICAgCWludCBlcmFzZWQgPSAwOwo+ICAgCWludCBwbGFubmVkOwo+ICAg
CWludCByY29kZSA9IDA7Cj4gQEAgLTQwNiw3ICs0MDYsNyBAQCBpbnQgZmxhc2hfc2VjdF9lcmFz
ZSh1bG9uZyBhZGRyX2ZpcnN0LCB1bG9uZyBhZGRyX2xhc3QpCj4gICAKPiAgIAlpZiAocGxhbm5l
ZCAmJiByY29kZSA9PSAwKSB7Cj4gICAJCWZvciAoYmFuayA9IDAsIGluZm8gPSAmZmxhc2hfaW5m
b1swXTsKPiAtCQkgICAgIGJhbmsgPCBDT05GSUdfU1lTX01BWF9GTEFTSF9CQU5LUyAmJiByY29k
ZSA9PSAwOwo+ICsJCSAgICAgYmFuayA8IENGSV9GTEFTSF9CQU5LUyAmJiByY29kZSA9PSAwOwo+
ICAgCQkgICAgICsrYmFuaywgKytpbmZvKSB7Cj4gICAJCQlpZiAoc19maXJzdFtiYW5rXSA+PSAw
KSB7Cj4gICAJCQkJZXJhc2VkICs9IHNfbGFzdFtiYW5rXSAtIHNfZmlyc3RbYmFua10gKyAxOwo+
IEBAIC00NjMsNyArNDYzLDcgQEAgc3RhdGljIGludCBkb19wcm90ZWN0KHN0cnVjdCBjbWRfdGJs
ICpjbWR0cCwgaW50IGZsYWcsIGludCBhcmdjLAo+ICAgCj4gICAjaWZkZWYgQ09ORklHX01URF9O
T1JfRkxBU0gKPiAgIAlpZiAoc3RyY21wKGFyZ3ZbMl0sICJhbGwiKSA9PSAwKSB7Cj4gLQkJZm9y
IChiYW5rID0gMTsgYmFuayA8PSBDT05GSUdfU1lTX01BWF9GTEFTSF9CQU5LUzsgKytiYW5rKSB7
Cj4gKwkJZm9yIChiYW5rID0gMTsgYmFuayA8PSBDRklfRkxBU0hfQkFOS1M7ICsrYmFuaykgewo+
ICAgCQkJaW5mbyA9ICZmbGFzaF9pbmZvW2JhbmsgLSAxXTsKPiAgIAkJCWlmIChpbmZvLT5mbGFz
aF9pZCA9PSBGTEFTSF9VTktOT1dOKQo+ICAgCQkJCWNvbnRpbnVlOwo+IEBAIC01NDcsOSArNTQ3
LDkgQEAgc3RhdGljIGludCBkb19wcm90ZWN0KHN0cnVjdCBjbWRfdGJsICpjbWR0cCwgaW50IGZs
YWcsIGludCBhcmdjLAo+ICAgCj4gICAJaWYgKHN0cmNtcChhcmd2WzJdLCAiYmFuayIpID09IDAp
IHsKPiAgIAkJYmFuayA9IGhleHRvdWwoYXJndlszXSwgTlVMTCk7Cj4gLQkJaWYgKGJhbmsgPCAx
IHx8IGJhbmsgPiBDT05GSUdfU1lTX01BWF9GTEFTSF9CQU5LUykgewo+ICsJCWlmIChiYW5rIDwg
MSB8fCBiYW5rID4gQ0ZJX0ZMQVNIX0JBTktTKSB7Cj4gICAJCQlwcmludGYoIk9ubHkgRkxBU0gg
QmFua3MgIyAxIC4uLiAjICVkIHN1cHBvcnRlZFxuIiwKPiAtCQkJICAgICAgIENPTkZJR19TWVNf
TUFYX0ZMQVNIX0JBTktTKTsKPiArCQkJICAgICAgIENGSV9GTEFTSF9CQU5LUyk7Cj4gICAJCQly
ZXR1cm4gMTsKPiAgIAkJfQo+ICAgCQlwcmludGYoIiVzUHJvdGVjdCBGbGFzaCBCYW5rICMgJWxk
XG4iLAo+IEBAIC01OTYsNyArNTk2LDcgQEAgaW50IGZsYXNoX3NlY3RfcHJvdGVjdChpbnQgcCwg
dWxvbmcgYWRkcl9maXJzdCwgdWxvbmcgYWRkcl9sYXN0KQo+ICAgewo+ICAgCWZsYXNoX2luZm9f
dCAqaW5mbzsKPiAgIAl1bG9uZyBiYW5rOwo+IC0JaW50IHNfZmlyc3RbQ09ORklHX1NZU19NQVhf
RkxBU0hfQkFOS1NdLCBzX2xhc3RbQ09ORklHX1NZU19NQVhfRkxBU0hfQkFOS1NdOwo+ICsJaW50
IHNfZmlyc3RbQ0ZJX0ZMQVNIX0JBTktTXSwgc19sYXN0W0NGSV9GTEFTSF9CQU5LU107Cj4gICAJ
aW50IHByb3RlY3RlZCwgaTsKPiAgIAlpbnQgcGxhbm5lZDsKPiAgIAlpbnQgcmNvZGU7Cj4gQEAg
LTYwNyw3ICs2MDcsNyBAQCBpbnQgZmxhc2hfc2VjdF9wcm90ZWN0KGludCBwLCB1bG9uZyBhZGRy
X2ZpcnN0LCB1bG9uZyBhZGRyX2xhc3QpCj4gICAKPiAgIAlpZiAocGxhbm5lZCAmJiByY29kZSA9
PSAwKSB7Cj4gICAJCWZvciAoYmFuayA9IDAsIGluZm8gPSAmZmxhc2hfaW5mb1swXTsKPiAtCQkg
ICAgIGJhbmsgPCBDT05GSUdfU1lTX01BWF9GTEFTSF9CQU5LUzsgKytiYW5rLCArK2luZm8pIHsK
PiArCQkgICAgIGJhbmsgPCBDRklfRkxBU0hfQkFOS1M7ICsrYmFuaywgKytpbmZvKSB7Cj4gICAJ
CQlpZiAoaW5mby0+Zmxhc2hfaWQgPT0gRkxBU0hfVU5LTk9XTikKPiAgIAkJCQljb250aW51ZTsK
PiAgIAo+IGRpZmYgLS1naXQgYS9jb21tb24vZmxhc2guYyBiL2NvbW1vbi9mbGFzaC5jCj4gaW5k
ZXggYmI4MjM4NWMxZi4uZjkzOWMyZjllOSAxMDA2NDQKPiAtLS0gYS9jb21tb24vZmxhc2guYwo+
ICsrKyBiL2NvbW1vbi9mbGFzaC5jCj4gQEAgLTkxLDcgKzkxLDcgQEAgYWRkcjJpbmZvKHVsb25n
IGFkZHIpCj4gICAJZmxhc2hfaW5mb190ICppbmZvOwo+ICAgCWludCBpOwo+ICAgCj4gLQlmb3Ig
KGk9MCwgaW5mbyA9ICZmbGFzaF9pbmZvWzBdOyBpPENPTkZJR19TWVNfTUFYX0ZMQVNIX0JBTktT
OyArK2ksICsraW5mbykgewo+ICsJZm9yIChpID0gMCwgaW5mbyA9ICZmbGFzaF9pbmZvWzBdOyBp
IDwgQ0ZJX0ZMQVNIX0JBTktTOyArK2ksICsraW5mbykgewo+ICAgCQlpZiAoaW5mby0+Zmxhc2hf
aWQgIT0gRkxBU0hfVU5LTk9XTiAmJgo+ICAgCQkgICAgYWRkciA+PSBpbmZvLT5zdGFydFswXSAm
Jgo+ICAgCQkgICAgLyogV0FSTklORyAtIFRoZSAnLSAxJyBpcyBuZWVkZWQgaWYgdGhlIGZsYXNo
Cj4gZGlmZiAtLWdpdCBhL2NvbW1vbi91cGRhdGUuYyBiL2NvbW1vbi91cGRhdGUuYwo+IGluZGV4
IGY1Yzg2ODRmMWIuLmI5YWQ0NzVkOWQgMTAwNjQ0Cj4gLS0tIGEvY29tbW9uL3VwZGF0ZS5jCj4g
KysrIGIvY29tbW9uL3VwZGF0ZS5jCj4gQEAgLTExMiwxMiArMTEyLDEyIEBAIHN0YXRpYyBpbnQg
dXBkYXRlX2ZsYXNoX3Byb3RlY3QoaW50IHByb3QsIHVsb25nIGFkZHJfZmlyc3QsIHVsb25nIGFk
ZHJfbGFzdCkKPiAgIAo+ICAgCWlmIChwcm90ID09IDApIHsKPiAgIAkJc2F2ZWRfcHJvdF9pbmZv
ID0KPiAtCQkJY2FsbG9jKENPTkZJR19TWVNfTUFYX0ZMQVNIX0JBTktTICogQ09ORklHX1NZU19N
QVhfRkxBU0hfU0VDVCwgMSk7Cj4gKwkJCWNhbGxvYyhDRklfRkxBU0hfQkFOS1MgKiBDT05GSUdf
U1lTX01BWF9GTEFTSF9TRUNULCAxKTsKPiAgIAkJaWYgKCFzYXZlZF9wcm90X2luZm8pCj4gICAJ
CQlyZXR1cm4gMTsKPiAgIAl9Cj4gICAKPiAtCWZvciAoYmFuayA9IDA7IGJhbmsgPCBDT05GSUdf
U1lTX01BWF9GTEFTSF9CQU5LUzsgKytiYW5rKSB7Cj4gKwlmb3IgKGJhbmsgPSAwOyBiYW5rIDwg
Q0ZJX0ZMQVNIX0JBTktTOyArK2JhbmspIHsKPiAgIAkJY250ID0gMDsKPiAgIAkJaW5mbyA9ICZm
bGFzaF9pbmZvW2JhbmtdOwo+ICAgCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvbXRkL2NmaV9mbGFz
aC5jIGIvZHJpdmVycy9tdGQvY2ZpX2ZsYXNoLmMKPiBpbmRleCA5YzI3ZmVhNWQ4Li43MWNlZmMx
MjVmIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvbXRkL2NmaV9mbGFzaC5jCj4gKysrIGIvZHJpdmVy
cy9tdGQvY2ZpX2ZsYXNoLmMKPiBAQCAtMTkxLDcgKzE5MSw3IEBAIHN0YXRpYyBmbGFzaF9pbmZv
X3QgKmZsYXNoX2dldF9pbmZvKHVsb25nIGJhc2UpCj4gICAJaW50IGk7Cj4gICAJZmxhc2hfaW5m
b190ICppbmZvOwo+ICAgCj4gLQlmb3IgKGkgPSAwOyBpIDwgQ09ORklHX1NZU19NQVhfRkxBU0hf
QkFOS1M7IGkrKykgewo+ICsJZm9yIChpID0gMDsgaSA8IENGSV9GTEFTSF9CQU5LUzsgaSsrKSB7
Cj4gICAJCWluZm8gPSAmZmxhc2hfaW5mb1tpXTsKPiAgIAkJaWYgKGluZm8tPnNpemUgJiYgaW5m
by0+c3RhcnRbMF0gPD0gYmFzZSAmJgo+ICAgCQkgICAgYmFzZSA8PSBpbmZvLT5zdGFydFswXSAr
IGluZm8tPnNpemUgLSAxKQo+IEBAIC0yNDE5LDcgKzI0MTksNyBAQCB1bnNpZ25lZCBsb25nIGZs
YXNoX2luaXQodm9pZCkKPiAgICNlbmRpZgo+ICAgCj4gICAJLyogSW5pdDogbm8gRkxBU0hlcyBr
bm93biAqLwo+IC0JZm9yIChpID0gMDsgaSA8IENPTkZJR19TWVNfTUFYX0ZMQVNIX0JBTktTOyAr
K2kpIHsKPiArCWZvciAoaSA9IDA7IGkgPCBDRklfRkxBU0hfQkFOS1M7ICsraSkgewo+ICAgCQlm
bGFzaF9pbmZvW2ldLmZsYXNoX2lkID0gRkxBU0hfVU5LTk9XTjsKPiAgIAo+ICAgCQkvKiBPcHRp
b25hbGx5IHdyaXRlIGZsYXNoIGNvbmZpZ3VyYXRpb24gcmVnaXN0ZXIgKi8KPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9tdGQvY2ZpX210ZC5jIGIvZHJpdmVycy9tdGQvY2ZpX210ZC5jCj4gaW5kZXgg
MjI5NWJiNzIyMC4uZjk5OGZmYWYyNiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL210ZC9jZmlfbXRk
LmMKPiArKysgYi9kcml2ZXJzL210ZC9jZmlfbXRkLmMKPiBAQCAtMjA3LDEwICsyMDcsMTAgQEAg
aW50IGNmaV9tdGRfaW5pdCh2b2lkKQo+ICAgCWludCBlcnJvciwgaTsKPiAgICNpZmRlZiBDT05G
SUdfTVREX0NPTkNBVAo+ICAgCWludCBkZXZpY2VzX2ZvdW5kID0gMDsKPiAtCXN0cnVjdCBtdGRf
aW5mbyAqbXRkX2xpc3RbQ09ORklHX1NZU19NQVhfRkxBU0hfQkFOS1NdOwo+ICsJc3RydWN0IG10
ZF9pbmZvICptdGRfbGlzdFtDRklfRkxBU0hfQkFOS1NdOwo+ICAgI2VuZGlmCj4gICAKPiAtCWZv
ciAoaSA9IDA7IGkgPCBDT05GSUdfU1lTX01BWF9GTEFTSF9CQU5LUzsgaSsrKSB7Cj4gKwlmb3Ig
KGkgPSAwOyBpIDwgQ0ZJX0ZMQVNIX0JBTktTOyBpKyspIHsKPiAgIAkJZmkgPSAmZmxhc2hfaW5m
b1tpXTsKPiAgIAkJbXRkID0gJmNmaV9tdGRfaW5mb1tpXTsKPiAgIAo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL210ZC9zcGkvc3BpLW5vci1jb3JlLmMgYi9kcml2ZXJzL210ZC9zcGkvc3BpLW5vci1j
b3JlLmMKPiBpbmRleCA0Mzg4YTA4YTkwLi42YWNhYTg0ZDJiIDEwMDY0NAo+IC0tLSBhL2RyaXZl
cnMvbXRkL3NwaS9zcGktbm9yLWNvcmUuYwo+ICsrKyBiL2RyaXZlcnMvbXRkL3NwaS9zcGktbm9y
LWNvcmUuYwo+IEBAIC0zNzA3LDkgKzM3MDcsOCBAQCBpbnQgc3BpX25vcl9zY2FuKHN0cnVjdCBz
cGlfbm9yICpub3IpCj4gICAJaW50IHJldDsKPiAgIAlpbnQgY2ZpX210ZF9uYiA9IDA7Cj4gICAK
PiAtI2lmZGVmIENPTkZJR19TWVNfTUFYX0ZMQVNIX0JBTktTCj4gLQljZmlfbXRkX25iID0gQ09O
RklHX1NZU19NQVhfRkxBU0hfQkFOS1M7Cj4gLSNlbmRpZgo+ICsJaWYgKElTX0VOQUJMRUQoQ09O
RklHX0ZMQVNIX0NGSV9NVEQpKQo+ICsJCWNmaV9tdGRfbmIgPSBDRklfRkxBU0hfQkFOS1M7Cj4g
ICAKPiAgIAkvKiBSZXNldCBTUEkgcHJvdG9jb2wgZm9yIGFsbCBjb21tYW5kcy4gKi8KPiAgIAlu
b3ItPnJlZ19wcm90byA9IFNOT1JfUFJPVE9fMV8xXzE7Cj4gZGlmZiAtLWdpdCBhL2luY2x1ZGUv
bXRkL2NmaV9mbGFzaC5oIGIvaW5jbHVkZS9tdGQvY2ZpX2ZsYXNoLmgKPiBpbmRleCBhMWFmNmZj
MjAwLi5kNjJjOGYxOGZjIDEwMDY0NAo+IC0tLSBhL2luY2x1ZGUvbXRkL2NmaV9mbGFzaC5oCj4g
KysrIGIvaW5jbHVkZS9tdGQvY2ZpX2ZsYXNoLmgKPiBAQCAtMTU0LDIxICsxNTQsMjQgQEAgc3Ry
dWN0IGNmaV9wcmlfaGRyIHsKPiAgIC8qCj4gICAgKiBDRklfTUFYX0ZMQVNIX0JBTktTIG9ubHkg
dXNlZCBmb3IgZmxhc2hfaW5mbyBzdHJ1Y3QgZGVjbGFyYXRpb24uCj4gICAgKgo+IC0gKiBVc2Ug
Q09ORklHX1NZU19NQVhfRkxBU0hfQkFOS1NfREVURUNUIGlmIGRlZmluZWQKPiArICogQ0ZJX0ZM
QVNIX0JBTktTIHNlbGVjdHMgdGhlIGNvcnJlY3QgbnVtYmVyIG9mIGF2YWlsYWJsZSBiYW5rcyA9
Cj4gKyAqIGNmaV9mbGFzaF9udW1fZmxhc2hfYmFua3Mgd2hlbiBDT05GSUdfU1lTX01BWF9GTEFT
SF9CQU5LU19ERVRFQ1QgaXMgZGVmaW5lZAo+ICsgKiBvciBDT05GSUdfU1lTX01BWF9GTEFTSF9C
QU5LUwo+ICAgICovCj4gICAjaWYgZGVmaW5lZChDT05GSUdfU1lTX01BWF9GTEFTSF9CQU5LU19E
RVRFQ1QpCj4gICAjZGVmaW5lIENGSV9NQVhfRkxBU0hfQkFOS1MJQ09ORklHX1NZU19NQVhfRkxB
U0hfQkFOS1NfREVURUNUCj4gICAvKiBtYXAgdG8gY2ZpX2ZsYXNoX251bV9mbGFzaF9iYW5rcyBv
bmx5IHdoZW4gc3VwcG9ydGVkICovCj4gICAjaWYgSVNfRU5BQkxFRChDT05GSUdfRkxBU0hfQ0ZJ
X0RSSVZFUikgJiYgXAo+ICAgICAgICghSVNfRU5BQkxFRChDT05GSUdfU1BMX0JVSUxEKSB8fCBJ
U19FTkFCTEVEKENPTkZJR19TUExfTVREX1NVUFBPUlQpKQo+IC0jZGVmaW5lIENPTkZJR19TWVNf
TUFYX0ZMQVNIX0JBTktTCShjZmlfZmxhc2hfbnVtX2ZsYXNoX2JhbmtzKQo+ICsjZGVmaW5lIENG
SV9GTEFTSF9CQU5LUwkJKGNmaV9mbGFzaF9udW1fZmxhc2hfYmFua3MpCj4gICAvKiBib2FyZCBj
b2RlIGNhbiB1cGRhdGUgdGhpcyB2YXJpYWJsZSBiZWZvcmUgQ0ZJIGRldGVjdGlvbiAqLwo+ICAg
ZXh0ZXJuIGludCBjZmlfZmxhc2hfbnVtX2ZsYXNoX2JhbmtzOwo+ICAgI2Vsc2UKPiAtI2RlZmlu
ZSBDT05GSUdfU1lTX01BWF9GTEFTSF9CQU5LUwlDT05GSUdfU1lTX01BWF9GTEFTSF9CQU5LU19E
RVRFQ1QKPiArI2RlZmluZSBDRklfRkxBU0hfQkFOS1MJCUNPTkZJR19TWVNfTUFYX0ZMQVNIX0JB
TktTX0RFVEVDVAo+ICAgI2VuZGlmCj4gICAjZWxzZQo+ICAgI2RlZmluZSBDRklfTUFYX0ZMQVNI
X0JBTktTCUNPTkZJR19TWVNfTUFYX0ZMQVNIX0JBTktTCj4gKyNkZWZpbmUgQ0ZJX0ZMQVNIX0JB
TktTCQlDT05GSUdfU1lTX01BWF9GTEFTSF9CQU5LUwo+ICAgI2VuZGlmCj4gICAKPiAgIHBoeXNf
YWRkcl90IGNmaV9mbGFzaF9iYW5rX2FkZHIoaW50IGkpOwo+IAoKVmllbGUgR3LDvMOfZSwKU3Rl
ZmFuIFJvZXNlCgotLSAKREVOWCBTb2Z0d2FyZSBFbmdpbmVlcmluZyBHbWJILCAgICAgIE1hbmFn
aW5nIERpcmVjdG9yOiBXb2xmZ2FuZyBEZW5rCkhSQiAxNjUyMzUgTXVuaWNoLCBPZmZpY2U6IEtp
cmNoZW5zdHIuNSwgRC04MjE5NCBHcm9lYmVuemVsbCwgR2VybWFueQpQaG9uZTogKCs0OSktODE0
Mi02Njk4OS01MSBGYXg6ICgrNDkpLTgxNDItNjY5ODktODAgRW1haWw6IHNyQGRlbnguZGUKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KVWJvb3Qtc3RtMzIg
bWFpbGluZyBsaXN0ClVib290LXN0bTMyQHN0LW1kLW1haWxtYW4uc3Rvcm1yZXBseS5jb20KaHR0
cHM6Ly9zdC1tZC1tYWlsbWFuLnN0b3JtcmVwbHkuY29tL21haWxtYW4vbGlzdGluZm8vdWJvb3Qt
c3RtMzIK
