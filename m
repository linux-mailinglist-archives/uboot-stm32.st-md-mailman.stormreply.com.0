Return-Path: <uboot-stm32-bounces@st-md-mailman.stormreply.com>
X-Original-To: lists+uboot-stm32@lfdr.de
Delivered-To: lists+uboot-stm32@lfdr.de
Received: from stm-ict-prod-mailman-01.stormreply.prv (st-md-mailman.stormreply.com [52.209.6.89])
	by mail.lfdr.de (Postfix) with ESMTPS id 0D3A11356B5
	for <lists+uboot-stm32@lfdr.de>; Thu,  9 Jan 2020 11:19:22 +0100 (CET)
Received: from ip-172-31-3-76.eu-west-1.compute.internal (localhost [127.0.0.1])
	by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTP id B5C46C36B0A
	for <lists+uboot-stm32@lfdr.de>; Thu,  9 Jan 2020 10:19:21 +0000 (UTC)
Received: from mx07-00178001.pphosted.com (mx08-00178001.pphosted.com
 [91.207.212.93])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTPS id 53E79C36B09
 for <uboot-stm32@st-md-mailman.stormreply.com>;
 Thu,  9 Jan 2020 10:19:20 +0000 (UTC)
Received: from pps.filterd (m0046660.ppops.net [127.0.0.1])
 by mx08-00178001.pphosted.com (8.16.0.42/8.16.0.42) with SMTP id
 009AHxt1008126; Thu, 9 Jan 2020 11:19:17 +0100
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=st.com;
 h=from : to : cc : subject
 : date : message-id : references : in-reply-to : content-type :
 content-transfer-encoding : mime-version; s=STMicroelectronics;
 bh=dBQrzteQC2Bo2E4klD4Fz6pZf7B240/Ne1AxEG0iXiQ=;
 b=d3ohVP4E4IRmIKtnNa330Wm74fL5HBbZGbHUNOs25ajC8EmDBI5wsUYP7F1UHlrVDLUR
 l0rSFYLBkeC7ME1sliEkumhMut6u8+k+rTAJPDEsRuIs/7JvQWj48gb8cbEGAQX3TMa1
 cv2Yl4dly67r8UIGc4NNnyrxR2kGBdu+yVIxcaw8Me3UFKRV38+jrnacsj/LhLvToo23
 ez21x0DNNBhiw0lYt8EKDUlmO2j+bdIIuqPxmBNjlOMjQzCcKWyiqFqVcnPulFQ0zLms
 uE/dsBOlUs81+8fn0Hf+qJsjDIMX8TLpb01Z1XzgLdnmC3ztEaiV9AuDY36VRgBpPKUp tA== 
Received: from beta.dmz-eu.st.com (beta.dmz-eu.st.com [164.129.1.35])
 by mx08-00178001.pphosted.com with ESMTP id 2xakkb1578-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Thu, 09 Jan 2020 11:19:16 +0100
Received: from euls16034.sgp.st.com (euls16034.sgp.st.com [10.75.44.20])
 by beta.dmz-eu.st.com (STMicroelectronics) with ESMTP id 6A59E10002A;
 Thu,  9 Jan 2020 11:19:12 +0100 (CET)
Received: from Webmail-eu.st.com (sfhdag6node1.st.com [10.75.127.16])
 by euls16034.sgp.st.com (STMicroelectronics) with ESMTP id 5C47520C16A;
 Thu,  9 Jan 2020 11:19:12 +0100 (CET)
Received: from SFHDAG6NODE3.st.com (10.75.127.18) by SFHDAG6NODE1.st.com
 (10.75.127.16) with Microsoft SMTP Server (TLS) id 15.0.1473.3; Thu, 9 Jan
 2020 11:19:11 +0100
Received: from SFHDAG6NODE3.st.com ([fe80::d04:5337:ab17:b6f6]) by
 SFHDAG6NODE3.st.com ([fe80::d04:5337:ab17:b6f6%20]) with mapi id
 15.00.1473.003; Thu, 9 Jan 2020 11:19:12 +0100
From: Patrick DELAUNAY <patrick.delaunay@st.com>
To: Simon Glass <sjg@chromium.org>
Thread-Topic: [PATCH v2 08/14] gpio: add ops for configuration with dir flags
Thread-Index: AQHVpDZkhYwytuvWbEuBZOoOVNiXSKfSBauAgBBT1rA=
Date: Thu, 9 Jan 2020 10:19:11 +0000
Message-ID: <d7c88cc90d604d28a02cde0bf53bbd23@SFHDAG6NODE3.st.com>
References: <20191126084911.19761-1-patrick.delaunay@st.com>
 <20191126084911.19761-9-patrick.delaunay@st.com>
 <CAPnjgZ249GaKXp0A36EZk2dDAZ0yFX_ce0mp5RPjVXzygP2mvg@mail.gmail.com>
In-Reply-To: <CAPnjgZ249GaKXp0A36EZk2dDAZ0yFX_ce0mp5RPjVXzygP2mvg@mail.gmail.com>
Accept-Language: fr-FR, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-ms-exchange-transport-fromentityheader: Hosted
x-originating-ip: [10.75.127.47]
MIME-Version: 1.0
X-Proofpoint-Virus-Version: vendor=fsecure engine=2.50.10434:6.0.138, 18.0.572
 definitions=2020-01-09_02:2020-01-09,
 2020-01-09 signatures=0
Cc: U-Boot STM32 <uboot-stm32@st-md-mailman.stormreply.com>,
 U-Boot Mailing List <u-boot@lists.denx.de>, Bin Meng <bmeng.cn@gmail.com>,
 Heiko Schocher <hs@denx.de>
Subject: Re: [Uboot-stm32] [PATCH v2 08/14] gpio: add ops for configuration
	with dir flags
X-BeenThere: uboot-stm32@st-md-mailman.stormreply.com
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: <uboot-stm32.st-md-mailman.stormreply.com>
List-Unsubscribe: <https://st-md-mailman.stormreply.com/mailman/options/uboot-stm32>, 
 <mailto:uboot-stm32-request@st-md-mailman.stormreply.com?subject=unsubscribe>
List-Archive: <http://st-md-mailman.stormreply.com/pipermail/uboot-stm32/>
List-Post: <mailto:uboot-stm32@st-md-mailman.stormreply.com>
List-Help: <mailto:uboot-stm32-request@st-md-mailman.stormreply.com?subject=help>
List-Subscribe: <https://st-md-mailman.stormreply.com/mailman/listinfo/uboot-stm32>, 
 <mailto:uboot-stm32-request@st-md-mailman.stormreply.com?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: uboot-stm32-bounces@st-md-mailman.stormreply.com
Sender: "Uboot-stm32" <uboot-stm32-bounces@st-md-mailman.stormreply.com>

SGkgU2ltb24NCg0KPiBGcm9tOiBTaW1vbiBHbGFzcyA8c2pnQGNocm9taXVtLm9yZz4NCj4gU2Vu
dDogbHVuZGkgMzAgZMOpY2VtYnJlIDIwMTkgMDI6MjENCj4gDQo+IEhpIFBhdHJpY2ssDQo+IA0K
PiBPbiBUdWUsIDI2IE5vdiAyMDE5IGF0IDAxOjQ5LCBQYXRyaWNrIERlbGF1bmF5IDxwYXRyaWNr
LmRlbGF1bmF5QHN0LmNvbT4NCj4gd3JvdGU6DQo+ID4NCj4gPiBUaGlzIGNvbW1pdCBtYW5hZ2Vz
IHRoZSBkaXIgZmxhZ3MgdGhhdCBjYW4gYmUgdXNlZCBpbiBncGlvIHNwZWNpZmllcnMNCj4gPiB0
byBpbmRpY2F0ZSBpZiBhIHB1bGwtdXAgcmVzaXN0b3Igb3IgcHVsbC1kb3duIHJlc2lzdG9yIHNo
b3VsZCBiZQ0KPiA+IGVuYWJsZWQgZm9yIG91dHB1dCBncGlvIChHUElPX1BVTExfVVAsIEdQSU9f
UFVMTF9ET1dOKSBhbmQgdGhlIE9wZW4NCj4gPiBEcmFpbi9PcGVuIFNvdXJjZSBjb25maWd1cmF0
aW9uIGZvciBpbnB1dCBncGlvIChHUElPX09QRU5fRFJBSU4sDQo+ID4gR1BJT19PUEVOX1NPVVJD
RSkuDQo+ID4NCj4gPiBUaGVzZSBmbGFncyBhcmUgYWxyZWFkeSBzdXBwb3J0ZWQgaW4gTGludXgg
a2VybmVsIGluIGdwaW9saWI7IHRoaXMNCj4gPiBwYXRjaCBwcm92aWRlcyB0aGUgc2FtZSBzdXBw
b3J0IGluIFUtQm9vdC4NCj4gPg0KPiA+IFRoZSBkaXIgZmxhZ3MgYXJlIG1hbmFnZWQgaW4gZ3Bp
byBkcml2ZXJzIHdpdGggdHdvIG9wdGlvbmFsIG9wcyBpbg0KPiA+IGdwaW8NCj4gPiB1Y2xhc3M6
IHNldF9kaXJfZmxhZ3MgYW5kIGdldF9kaXJfZmxhZ3MuDQo+ID4NCj4gPiAtIG9wcyBzZXRfZGly
X2ZsYWdzKCkgc2V0IHRoZSBkaXJlY3Rpb24gYW5kIGNvbmZpZ3VyYXRpb24gb2YgZWFjaCBHUElP
DQo+ID4gICB3aXRoIGEgb25seSBjYWxsIHRvIGRtX2dwaW9fc2V0X2Rpcl9mbGFncygpIC8gZG1f
Z3Bpb19zZXRfZGlyKCkNCj4gPiAgIGFuZCByZXNwZWN0aW5nIHRoZSBjb25maWd1cmF0aW9uIHBy
b3ZpZGVkIGJ5IGRldmljZSB0cmVlDQo+ID4gICAoc2F2ZWQgaW4gZGVzYy0+ZmxhZ3MpLg0KPiA+
DQo+ID4gLSBvcHMgZ2V0X2Rpcl9mbGFncygpIHJldHVybiBkeW5hbWljYWxseSB0aGUgY3VycmVu
dCBncGlvIGNvbmZpZ3VyYXRpb24sDQo+ID4gICBpdCBpcyB1c2VkIGJ5IHRoZSBuZXcgQVBJIGRt
X2dwaW9fZ2V0X2Rpcl9mbGFncygpLg0KPiA+DQo+ID4gV2hlbiB0aGVzZSBvcHRpb25hbCBvcHMg
YXJlIGFic2VudCwgdGhlIGdwaW8gdWNsYXNzIHVzZSB0aGUgbWFuZGF0b3J5DQo+ID4gb3BzIChk
aXJlY3Rpb25fb3V0cHV0LCBkaXJlY3Rpb25faW5wdXQsIGdldF92YWx1ZSkgYW5kIGRlc2MtPmZs
YWdzIHRvDQo+ID4gbWFuYWdlIG9ubHkgdGhlIG1haW4gZGlyIGZsYWdzOg0KPiA+IC0gR1BJT0Rf
SVNfSU4NCj4gPiAtIEdQSU9EX0lTX09VVA0KPiA+IC0gR1BJT0RfSVNfT1VUX0FDVElWRQ0KPiA+
IC0gR1BJT0RfQUNUSVZFX0xPVw0KPiA+DQo+ID4gU2lnbmVkLW9mZi1ieTogUGF0cmljayBEZWxh
dW5heSA8cGF0cmljay5kZWxhdW5heUBzdC5jb20+DQo+ID4gLS0tDQo+ID4NCj4gPiBDaGFuZ2Vz
IGluIHYyOg0KPiA+IC0gY2hhbmdlIHRoZSBwcm9wb3NlZCBvcHMgZm9yIHBpbiBjb25maWcgdG8N
Cj4gPiBzZXRfZGlyX2ZsYWdzL2dldF9kaXJfZmxhZ3MNCj4gPiAtIHJldXNlZCB0aGUgZXhpc3Rp
bmcgQVBJIGRtX2dwaW9fc2V0X2Rpcl9mbGFncy9kbV9ncGlvX3NldF9kaXINCj4gPiAtIGFkZCBh
IG5ldyBBUEkgZG1fZ3Bpb19nZXRfZGlyX2ZsYWdzDQo+ID4NCj4gPiAgZHJpdmVycy9ncGlvL2dw
aW8tdWNsYXNzLmMgfCAxNTcNCj4gPiArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrLS0t
LS0tDQo+ID4gIGluY2x1ZGUvYXNtLWdlbmVyaWMvZ3Bpby5oIHwgIDY1ICsrKysrKysrKysrKyst
LQ0KPiA+ICAyIGZpbGVzIGNoYW5nZWQsIDE5MiBpbnNlcnRpb25zKCspLCAzMCBkZWxldGlvbnMo
LSkNCj4gDQo+IFJldmlld2VkLWJ5OiBTaW1vbiBHbGFzcyA8c2pnQGNocm9taXVtLm9yZz4NCj4g
DQo+ID4NCj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncGlvL2dwaW8tdWNsYXNzLmMgYi9kcml2
ZXJzL2dwaW8vZ3Bpby11Y2xhc3MuYw0KPiA+IGluZGV4IDA4NzA0NThlOTYuLjI0MTI5M2Y0YjQg
MTAwNjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9ncGlvL2dwaW8tdWNsYXNzLmMNCj4gPiArKysgYi9k
cml2ZXJzL2dwaW8vZ3Bpby11Y2xhc3MuYw0KPiA+IEBAIC0xNDAsOCArMTQwLDI3IEBAIGludCBn
cGlvX3hsYXRlX29mZnNfZmxhZ3Moc3RydWN0IHVkZXZpY2UgKmRldiwgc3RydWN0DQo+IGdwaW9f
ZGVzYyAqZGVzYywNCj4gPiAgICAgICAgIGlmIChhcmdzLT5hcmdzX2NvdW50IDwgMikNCj4gPiAg
ICAgICAgICAgICAgICAgcmV0dXJuIDA7DQo+ID4NCj4gPiArICAgICAgIGRlc2MtPmZsYWdzID0g
MDsNCj4gPiAgICAgICAgIGlmIChhcmdzLT5hcmdzWzFdICYgR1BJT19BQ1RJVkVfTE9XKQ0KPiA+
IC0gICAgICAgICAgICAgICBkZXNjLT5mbGFncyA9IEdQSU9EX0FDVElWRV9MT1c7DQo+ID4gKyAg
ICAgICAgICAgICAgIGRlc2MtPmZsYWdzIHw9IEdQSU9EX0FDVElWRV9MT1c7DQo+ID4gKw0KPiA+
ICsgICAgICAgLyoNCj4gPiArICAgICAgICAqIG5lZWQgdG8gdGVzdCAyIGJpdHMgZm9yIGdwaW8g
b3V0cHV0IGJpbmRpbmc6DQo+ID4gKyAgICAgICAgKiBPUEVOX0RSQUlOICgweDYpID0gU0lOR0xF
X0VOREVEICgweDIpIHwgTElORV9PUEVOX0RSQUlODQo+ICgweDQpDQo+ID4gKyAgICAgICAgKiBP
UEVOX1NPVVJDRSAoMHgyKSA9IFNJTkdMRV9FTkRFRCAoMHgyKSB8DQo+IExJTkVfT1BFTl9TT1VS
Q0UgKDB4MCkNCj4gPiArICAgICAgICAqLw0KPiA+ICsgICAgICAgaWYgKGFyZ3MtPmFyZ3NbMV0g
JiBHUElPX1NJTkdMRV9FTkRFRCkgew0KPiA+ICsgICAgICAgICAgICAgICBpZiAoYXJncy0+YXJn
c1sxXSAmIEdQSU9fTElORV9PUEVOX0RSQUlOKQ0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
IGRlc2MtPmZsYWdzIHw9IEdQSU9EX09QRU5fRFJBSU47DQo+ID4gKyAgICAgICAgICAgICAgIGVs
c2UNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICBkZXNjLT5mbGFncyB8PSBHUElPRF9PUEVO
X1NPVVJDRTsNCj4gPiArICAgICAgIH0NCj4gPiArDQo+ID4gKyAgICAgICBpZiAoYXJncy0+YXJn
c1sxXSAmIEdQSU9fUFVMTF9VUCkNCj4gPiArICAgICAgICAgICAgICAgZGVzYy0+ZmxhZ3MgfD0g
R1BJT0RfUFVMTF9VUDsNCj4gPiArDQo+ID4gKyAgICAgICBpZiAoYXJncy0+YXJnc1sxXSAmIEdQ
SU9fUFVMTF9ET1dOKQ0KPiA+ICsgICAgICAgICAgICAgICBkZXNjLT5mbGFncyB8PSBHUElPRF9Q
VUxMX0RPV047DQo+ID4NCj4gPiAgICAgICAgIHJldHVybiAwOw0KPiA+ICB9DQo+ID4gQEAgLTQ3
NiwxOCArNDk1LDI0IEBAIGludCBncGlvX2RpcmVjdGlvbl9vdXRwdXQodW5zaWduZWQgZ3Bpbywg
aW50IHZhbHVlKQ0KPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgZGVzYy5vZmZzZXQsDQo+ID4gdmFsdWUpOyAgfQ0KPiA+DQo+ID4gLWlu
dCBkbV9ncGlvX2dldF92YWx1ZShjb25zdCBzdHJ1Y3QgZ3Bpb19kZXNjICpkZXNjKQ0KPiA+ICtz
dGF0aWMgaW50IF9ncGlvX2dldF92YWx1ZShjb25zdCBzdHJ1Y3QgZ3Bpb19kZXNjICpkZXNjKQ0K
PiA+ICB7DQo+ID4gICAgICAgICBpbnQgdmFsdWU7DQo+ID4gKw0KPiA+ICsgICAgICAgdmFsdWUg
PSBncGlvX2dldF9vcHMoZGVzYy0+ZGV2KS0+Z2V0X3ZhbHVlKGRlc2MtPmRldiwNCj4gPiArIGRl
c2MtPm9mZnNldCk7DQo+ID4gKw0KPiA+ICsgICAgICAgcmV0dXJuIGRlc2MtPmZsYWdzICYgR1BJ
T0RfQUNUSVZFX0xPVyA/ICF2YWx1ZSA6IHZhbHVlOyB9DQo+ID4gKw0KPiA+ICtpbnQgZG1fZ3Bp
b19nZXRfdmFsdWUoY29uc3Qgc3RydWN0IGdwaW9fZGVzYyAqZGVzYykgew0KPiA+ICAgICAgICAg
aW50IHJldDsNCj4gPg0KPiA+ICAgICAgICAgcmV0ID0gY2hlY2tfcmVzZXJ2ZWQoZGVzYywgImdl
dF92YWx1ZSIpOw0KPiA+ICAgICAgICAgaWYgKHJldCkNCj4gPiAgICAgICAgICAgICAgICAgcmV0
dXJuIHJldDsNCj4gPg0KPiA+IC0gICAgICAgdmFsdWUgPSBncGlvX2dldF9vcHMoZGVzYy0+ZGV2
KS0+Z2V0X3ZhbHVlKGRlc2MtPmRldiwgZGVzYy0+b2Zmc2V0KTsNCj4gPiAtDQo+ID4gLSAgICAg
ICByZXR1cm4gZGVzYy0+ZmxhZ3MgJiBHUElPRF9BQ1RJVkVfTE9XID8gIXZhbHVlIDogdmFsdWU7
DQo+ID4gKyAgICAgICByZXR1cm4gX2dwaW9fZ2V0X3ZhbHVlKGRlc2MpOw0KPiA+ICB9DQo+ID4N
Cj4gPiAgaW50IGRtX2dwaW9fc2V0X3ZhbHVlKGNvbnN0IHN0cnVjdCBncGlvX2Rlc2MgKmRlc2Ms
IGludCB2YWx1ZSkgQEANCj4gPiAtNTA0LDM5ICs1MjksMTE5IEBAIGludCBkbV9ncGlvX3NldF92
YWx1ZShjb25zdCBzdHJ1Y3QgZ3Bpb19kZXNjICpkZXNjLCBpbnQNCj4gdmFsdWUpDQo+ID4gICAg
ICAgICByZXR1cm4gMDsNCj4gPiAgfQ0KPiA+DQo+ID4gLWludCBkbV9ncGlvX3NldF9kaXJfZmxh
Z3Moc3RydWN0IGdwaW9fZGVzYyAqZGVzYywgdWxvbmcgZmxhZ3MpDQo+ID4gKy8qIGNoZWNrIGRp
ciBmbGFncyBpbnZhbGlkIGNvbmZpZ3VyYXRpb24gKi8gc3RhdGljIGludA0KPiA+ICtjaGVja19k
aXJfZmxhZ3ModWxvbmcgZmxhZ3MpIHsNCj4gPiArICAgICAgIGlmICgoZmxhZ3MgJiBHUElPRF9J
U19PVVQpICYmIChmbGFncyAmIEdQSU9EX0lTX0lOKSkNCj4gPiArICAgICAgICAgICAgICAgcmV0
dXJuIC1FSU5WQUw7DQo+ID4gKw0KPiA+ICsgICAgICAgaWYgKChmbGFncyAmIEdQSU9EX1BVTExf
VVApICYmIChmbGFncyAmIEdQSU9EX1BVTExfRE9XTikpDQo+ID4gKyAgICAgICAgICAgICAgIHJl
dHVybiAtRUlOVkFMOw0KPiA+ICsNCj4gPiArICAgICAgIGlmICgoZmxhZ3MgJiBHUElPRF9PUEVO
X0RSQUlOKSAmJiAoZmxhZ3MgJg0KPiBHUElPRF9PUEVOX1NPVVJDRSkpDQo+ID4gKyAgICAgICAg
ICAgICAgIHJldHVybiAtRUlOVkFMOw0KPiANCj4gQ2FuIHdlIHVzZSBkaWZmZXJlbnQgZXJyb3Ig
bnVtYmVycyBoZXJlLCBzbyB0aGF0IHBlb3BsZSBjYW4gZmlndXJlIG91dCB3aGF0IGlzDQo+IGdv
aW5nIG9uPw0KDQpJdCBpcyByZWFsbHkgYSBiYXNpYyBlcnJvciB0aGF0IHNob3VsZCBiZSBuZXZl
ciBvY2N1ciwNCkkgdGhpbmsgdGhhdCBFSU5WQUwgaXMgdGhlIGNvcnJlY3QgcmV0dXJuIHZhbHVl
IGhlcmUgKGl0IGlzIGRpZmZpY3VsdCB0byBoYXZlIDMgZGlmZmVyZW50IGVycm5vKQ0KDQpCdXQg
SSB3aWxsIGFkZCBhIGRlYnVnIHRyYWNlIGJlZm9yZSBlYWNoIHJldHVybi4uLg0KIA0KPiA+ICsN
Cj4gPiArICAgICAgIHJldHVybiAwOw0KPiA+ICt9DQo+ID4gKw0KPiA+ICtzdGF0aWMgaW50IF9k
bV9ncGlvX3NldF9kaXJfZmxhZ3Moc3RydWN0IGdwaW9fZGVzYyAqZGVzYywgdWxvbmcNCj4gPiAr
ZmxhZ3MpDQo+ID4gIHsNCj4gPiAgICAgICAgIHN0cnVjdCB1ZGV2aWNlICpkZXYgPSBkZXNjLT5k
ZXY7DQo+ID4gICAgICAgICBzdHJ1Y3QgZG1fZ3Bpb19vcHMgKm9wcyA9IGdwaW9fZ2V0X29wcyhk
ZXYpOw0KPiA+ICsgICAgICAgc3RydWN0IGdwaW9fZGV2X3ByaXYgKnVjX3ByaXYgPSBkZXZfZ2V0
X3VjbGFzc19wcml2KGRldik7DQo+ID4gICAgICAgICBpbnQgcmV0Ow0KPiA+DQo+ID4gLSAgICAg
ICByZXQgPSBjaGVja19yZXNlcnZlZChkZXNjLCAic2V0X2RpciIpOw0KPiA+IC0gICAgICAgaWYg
KHJldCkNCj4gPiAtICAgICAgICAgICAgICAgcmV0dXJuIHJldDsNCj4gPiArICAgICAgIHJldCA9
IGNoZWNrX2Rpcl9mbGFncyhmbGFncyk7DQo+ID4gKyAgICAgICBpZiAocmV0KSB7DQo+ID4gKyAg
ICAgICAgICAgICAgIGRldl9lcnIoZGV2LA0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICIl
cyBlcnJvcjogc2V0X2Rpcl9mbGFncyBmb3IgZ3BpbyAlcyVkIGhhcyBpbnZhbGlkIGRpciBmbGFn
cw0KPiAweCVseFxuIiwNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICBkZXNjLT5kZXYtPm5h
bWUsDQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgdWNfcHJpdi0+YmFua19uYW1lID8gdWNf
cHJpdi0+YmFua19uYW1lIDogIiIsDQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgZGVzYy0+
b2Zmc2V0LCBmbGFncyk7DQo+IA0KPiBsb2dfZGVidWcoKQ0KDQpPayBjaGFuZ2UgdG8gZGV2X2Ri
Zw0KbG9nX2RlYnVnIGlzIHByZWZlcmVyZWQgdG8gZGV2X2RiZyA/DQoNCmZvciBtZSBkZXZfLi4u
LiBmdW5jdGlvbnMgYXJlIHByZWZlcnJlZCB3aGVuICdkZXYnIGlzIGF2YWlsYWJsZS4NCg0KPiBB
bHNvIHNob3VsZCByZXR1cm4gZXJyb3INCj4gDQo+ID4NCj4gPiAtICAgICAgIGlmIChmbGFncyAm
IEdQSU9EX0lTX09VVCkgew0KPiA+IC0gICAgICAgICAgICAgICBpbnQgdmFsdWUgPSBmbGFncyAm
IEdQSU9EX0lTX09VVF9BQ1RJVkUgPyAxIDogMDsNCj4gPiArICAgICAgICAgICAgICAgcmV0dXJu
IHJldDsNCj4gPiArICAgICAgIH0NCg0KSW4gZmFjdCByZXR1cm4gaXMgaW5zZXJ0ZWQgaGVyZSAo
dGVzdCBtb3ZlZCBpbiBjaGVja19kaXJfZmxhZ3MpDQoNClRoZSBmaW5hbCBjb2RlIGJlY29tZSA6
DQoNCglyZXQgPSBjaGVja19kaXJfZmxhZ3MoZmxhZ3MpOw0KCWlmIChyZXQpIHsNCgkJZGV2X2Ri
ZyhkZXYsDQoJCQkiJXMgZXJyb3I6IHNldF9kaXJfZmxhZ3MgZm9yIGdwaW8gJXMlZCBoYXMgaW52
YWxpZCBkaXIgZmxhZ3MgMHglbHhcbiIsDQoJCQlkZXNjLT5kZXYtPm5hbWUsDQoJCQl1Y19wcml2
LT5iYW5rX25hbWUgPyB1Y19wcml2LT5iYW5rX25hbWUgOiAiIiwNCgkJCWRlc2MtPm9mZnNldCwg
ZmxhZ3MpOw0KDQoJCXJldHVybiByZXQ7DQoJfQ0KDQoJLyogR1BJT0RfIGFyZSBkaXJlY3RseSBt
YW5hZ2VkIGJ5IGRyaXZlciBpbiBzZXRfZGlyX2ZsYWdzKi8NCg0KPiA+DQo+ID4gLSAgICAgICAg
ICAgICAgIGlmIChmbGFncyAmIEdQSU9EX0FDVElWRV9MT1cpDQo+ID4gLSAgICAgICAgICAgICAg
ICAgICAgICAgdmFsdWUgPSAhdmFsdWU7DQo+ID4gLSAgICAgICAgICAgICAgIHJldCA9IG9wcy0+
ZGlyZWN0aW9uX291dHB1dChkZXYsIGRlc2MtPm9mZnNldCwgdmFsdWUpOw0KPiA+IC0gICAgICAg
fSBlbHNlICBpZiAoZmxhZ3MgJiBHUElPRF9JU19JTikgew0KPiA+IC0gICAgICAgICAgICAgICBy
ZXQgPSBvcHMtPmRpcmVjdGlvbl9pbnB1dChkZXYsIGRlc2MtPm9mZnNldCk7DQo+ID4gKyAgICAg
ICAvKiBHUElPRF8gYXJlIGRpcmVjdGx5IG1hbmFnZWQgYnkgZHJpdmVyIGluIHNldF9kaXJfZmxh
Z3MqLw0KPiA+ICsgICAgICAgaWYgKG9wcy0+c2V0X2Rpcl9mbGFncykgew0KPiA+ICsgICAgICAg
ICAgICAgICByZXQgPSBvcHMtPnNldF9kaXJfZmxhZ3MoZGV2LCBkZXNjLT5vZmZzZXQsIGZsYWdz
KTsNCj4gPiArICAgICAgIH0gZWxzZSB7DQo+ID4gKyAgICAgICAgICAgICAgIGlmIChmbGFncyAm
IEdQSU9EX0lTX09VVCkgew0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IG9wcy0+
ZGlyZWN0aW9uX291dHB1dChkZXYsIGRlc2MtPm9mZnNldCwNCj4gPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR1BJT0RfRkxBR1NfT1VUUFVUKGZs
YWdzKSk7DQo+ID4gKyAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmxhZ3MgJiBHUElPRF9JU19J
Tikgew0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IG9wcy0+ZGlyZWN0aW9uX2lu
cHV0KGRldiwgZGVzYy0+b2Zmc2V0KTsNCj4gPiArICAgICAgICAgICAgICAgfQ0KPiA+ICAgICAg
ICAgfQ0KPiA+ICsNCj4gPiArICAgICAgIHJldHVybiByZXQ7DQo+ID4gK30NCj4gPiArDQo+ID4g
K2ludCBkbV9ncGlvX3NldF9kaXJfZmxhZ3Moc3RydWN0IGdwaW9fZGVzYyAqZGVzYywgdWxvbmcg
ZmxhZ3MpIHsNCj4gPiArICAgICAgIGludCByZXQ7DQo+ID4gKw0KPiA+ICsgICAgICAgcmV0ID0g
Y2hlY2tfcmVzZXJ2ZWQoZGVzYywgInNldF9kaXJfZmxhZ3MiKTsNCj4gPiAgICAgICAgIGlmIChy
ZXQpDQo+ID4gICAgICAgICAgICAgICAgIHJldHVybiByZXQ7DQo+ID4gLSAgICAgICAvKg0KPiA+
IC0gICAgICAgICogVXBkYXRlIGRlc2MtPmZsYWdzIGhlcmUsIHNvIHRoYXQgR1BJT19BQ1RJVkVf
TE9XIGlzIGhvbm91cmVkIGluDQo+ID4gLSAgICAgICAgKiBmdXR1cmVzDQo+ID4gLSAgICAgICAg
Ki8NCj4gPiAtICAgICAgIGRlc2MtPmZsYWdzID0gZmxhZ3M7DQo+ID4NCj4gPiAtICAgICAgIHJl
dHVybiAwOw0KPiA+ICsgICAgICAgLyogY29tYmluZSB0aGUgcmVxdWVzdGVkIGZsYWdzIChmb3Ig
SU4vT1VUKSBhbmQgdGhlIGRlc2NyaXB0b3IgZmxhZ3MgKi8NCj4gPiArICAgICAgIGZsYWdzIHw9
IGRlc2MtPmZsYWdzOw0KPiA+ICsgICAgICAgcmV0ID0gX2RtX2dwaW9fc2V0X2Rpcl9mbGFncyhk
ZXNjLCBmbGFncyk7DQo+ID4gKw0KPiA+ICsgICAgICAgLyogdXBkYXRlIHRoZSBkZXNjcmlwdG9y
IGZsYWdzICovDQo+ID4gKyAgICAgICBpZiAocmV0KQ0KPiA+ICsgICAgICAgICAgICAgICBkZXNj
LT5mbGFncyA9IGZsYWdzOw0KPiA+ICsNCj4gPiArICAgICAgIHJldHVybiByZXQ7DQo+ID4gIH0N
Cj4gPg0KPiA+ICBpbnQgZG1fZ3Bpb19zZXRfZGlyKHN0cnVjdCBncGlvX2Rlc2MgKmRlc2MpICB7
DQo+ID4gLSAgICAgICByZXR1cm4gZG1fZ3Bpb19zZXRfZGlyX2ZsYWdzKGRlc2MsIGRlc2MtPmZs
YWdzKTsNCj4gPiArICAgICAgIGludCByZXQ7DQo+ID4gKw0KPiA+ICsgICAgICAgcmV0ID0gY2hl
Y2tfcmVzZXJ2ZWQoZGVzYywgInNldF9kaXIiKTsNCj4gPiArICAgICAgIGlmIChyZXQpDQo+ID4g
KyAgICAgICAgICAgICAgIHJldHVybiByZXQ7DQo+ID4gKw0KPiA+ICsgICAgICAgcmV0dXJuIF9k
bV9ncGlvX3NldF9kaXJfZmxhZ3MoZGVzYywgZGVzYy0+ZmxhZ3MpOyB9DQo+ID4gKw0KPiA+ICtp
bnQgZG1fZ3Bpb19nZXRfZGlyX2ZsYWdzKHN0cnVjdCBncGlvX2Rlc2MgKmRlc2MsIHVsb25nICpm
bGFncykgew0KPiA+ICsgICAgICAgc3RydWN0IHVkZXZpY2UgKmRldiA9IGRlc2MtPmRldjsNCj4g
PiArICAgICAgIHN0cnVjdCBkbV9ncGlvX29wcyAqb3BzID0gZ3Bpb19nZXRfb3BzKGRldik7DQo+
ID4gKyAgICAgICBpbnQgcmV0LCB2YWx1ZTsNCj4gPiArICAgICAgIHVsb25nIGRpcl9mbGFnczsN
Cj4gPiArDQo+ID4gKyAgICAgICByZXQgPSBjaGVja19yZXNlcnZlZChkZXNjLCAiZ2V0X2Rpcl9m
bGFncyIpOw0KPiA+ICsgICAgICAgaWYgKHJldCkNCj4gPiArICAgICAgICAgICAgICAgcmV0dXJu
IHJldDsNCj4gPiArDQo+ID4gKyAgICAgICAvKiBHUElPRF8gYXJlIGRpcmVjdGx5IHByb3ZpZGVk
IGJ5IGRyaXZlciBleGNlcHQNCj4gPiArIEdQSU9EX0FDVElWRV9MT1cqLw0KPiANCj4gU3BhY2Ug
YmVmb3JlICoNCg0Kb2sNCg0KPiA+ICsgICAgICAgaWYgKG9wcy0+Z2V0X2Rpcl9mbGFncykgew0K
PiA+ICsgICAgICAgICAgICAgICByZXQgPSBvcHMtPmdldF9kaXJfZmxhZ3MoZGV2LCBkZXNjLT5v
ZmZzZXQsICZkaXJfZmxhZ3MpOw0KPiA+ICsgICAgICAgICAgICAgICBpZiAocmV0KQ0KPiA+ICsg
ICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7DQo+ID4gKw0KPiA+ICsgICAgICAgICAg
ICAgICAvKiBHUElPRF9BQ1RJVkVfTE9XIGlzIHNhdmVkIGluIGRlc2MtPmZsYWdzICovDQo+ID4g
KyAgICAgICAgICAgICAgIHZhbHVlID0gZGlyX2ZsYWdzICYgR1BJT0RfSVNfT1VUX0FDVElWRSA/
IDEgOiAwOw0KPiA+ICsgICAgICAgICAgICAgICBpZiAoZGVzYy0+ZmxhZ3MgJiBHUElPRF9BQ1RJ
VkVfTE9XKQ0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gIXZhbHVlOw0KPiA+
ICsgICAgICAgICAgICAgICBkaXJfZmxhZ3MgJj0gfihHUElPRF9BQ1RJVkVfTE9XIHwgR1BJT0Rf
SVNfT1VUX0FDVElWRSk7DQo+ID4gKyAgICAgICAgICAgICAgIGRpcl9mbGFncyB8PSAoZGVzYy0+
ZmxhZ3MgJiBHUElPRF9BQ1RJVkVfTE9XKTsNCj4gPiArICAgICAgICAgICAgICAgaWYgKHZhbHVl
KQ0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIGRpcl9mbGFncyB8PSBHUElPRF9JU19PVVRf
QUNUSVZFOw0KPiA+ICsgICAgICAgfSBlbHNlIHsNCj4gPiArICAgICAgICAgICAgICAgZGlyX2Zs
YWdzID0gZGVzYy0+ZmxhZ3M7DQo+ID4gKyAgICAgICAgICAgICAgIC8qIG9ubHkgR1BJT0RfSVNf
T1VUX0FDVElWRSBpcyBwcm92aWRlZCBieSB1Y2xhc3MgKi8NCj4gPiArICAgICAgICAgICAgICAg
ZGlyX2ZsYWdzICY9IH5HUElPRF9JU19PVVRfQUNUSVZFOw0KPiA+ICsgICAgICAgICAgICAgICBp
ZiAoKGRlc2MtPmZsYWdzICYgR1BJT0RfSVNfT1VUKSAmJiBfZ3Bpb19nZXRfdmFsdWUoZGVzYykp
DQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgZGlyX2ZsYWdzIHw9IEdQSU9EX0lTX09VVF9B
Q1RJVkU7DQo+ID4gKyAgICAgICB9DQo+ID4gKyAgICAgICAqZmxhZ3MgPSBkaXJfZmxhZ3M7DQo+
ID4gKw0KPiA+ICsgICAgICAgcmV0dXJuIDA7DQo+ID4gIH0NCj4gPg0KPiA+ICAvKioNCj4gPiBA
QCAtODA5LDcgKzkxNCw3IEBAIHN0YXRpYyBpbnQgZ3Bpb19yZXF1ZXN0X3RhaWwoaW50IHJldCwg
Y29uc3QgY2hhcg0KPiAqbm9kZW5hbWUsDQo+ID4gICAgICAgICAgICAgICAgIGRlYnVnKCIlczog
ZG1fZ3Bpb19yZXF1ZXN0ZiBmYWlsZWRcbiIsIF9fZnVuY19fKTsNCj4gPiAgICAgICAgICAgICAg
ICAgZ290byBlcnI7DQo+ID4gICAgICAgICB9DQo+ID4gLSAgICAgICByZXQgPSBkbV9ncGlvX3Nl
dF9kaXJfZmxhZ3MoZGVzYywgZmxhZ3MgfCBkZXNjLT5mbGFncyk7DQo+ID4gKyAgICAgICByZXQg
PSBkbV9ncGlvX3NldF9kaXJfZmxhZ3MoZGVzYywgZmxhZ3MpOw0KPiA+ICAgICAgICAgaWYgKHJl
dCkgew0KPiA+ICAgICAgICAgICAgICAgICBkZWJ1ZygiJXM6IGRtX2dwaW9fc2V0X2RpciBmYWls
ZWRcbiIsIF9fZnVuY19fKTsNCj4gPiAgICAgICAgICAgICAgICAgZ290byBlcnI7DQo+ID4gQEAg
LTEwMzYsNiArMTE0MSwxMCBAQCBzdGF0aWMgaW50IGdwaW9fcG9zdF9iaW5kKHN0cnVjdCB1ZGV2
aWNlICpkZXYpDQo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgb3BzLT5nZXRfZnVuY3Rpb24g
Kz0gZ2QtPnJlbG9jX29mZjsNCj4gPiAgICAgICAgICAgICAgICAgaWYgKG9wcy0+eGxhdGUpDQo+
ID4gICAgICAgICAgICAgICAgICAgICAgICAgb3BzLT54bGF0ZSArPSBnZC0+cmVsb2Nfb2ZmOw0K
PiA+ICsgICAgICAgICAgICAgICBpZiAob3BzLT5zZXRfZGlyX2ZsYWdzKQ0KPiA+ICsgICAgICAg
ICAgICAgICAgICAgICAgIG9wcy0+c2V0X2Rpcl9mbGFncyArPSBnZC0+cmVsb2Nfb2ZmOw0KPiA+
ICsgICAgICAgICAgICAgICBpZiAob3BzLT5nZXRfZGlyX2ZsYWdzKQ0KPiA+ICsgICAgICAgICAg
ICAgICAgICAgICAgIG9wcy0+Z2V0X2Rpcl9mbGFncyArPSBnZC0+cmVsb2Nfb2ZmOw0KPiA+DQo+
ID4gICAgICAgICAgICAgICAgIHJlbG9jX2RvbmUrKzsNCj4gPiAgICAgICAgIH0NCj4gPiBkaWZm
IC0tZ2l0IGEvaW5jbHVkZS9hc20tZ2VuZXJpYy9ncGlvLmggYi9pbmNsdWRlL2FzbS1nZW5lcmlj
L2dwaW8uaA0KPiA+IGluZGV4IDQ1NDU3OGM4ZDIuLmM2OTkxYmUxYzkgMTAwNjQ0DQo+ID4gLS0t
IGEvaW5jbHVkZS9hc20tZ2VuZXJpYy9ncGlvLmgNCj4gPiArKysgYi9pbmNsdWRlL2FzbS1nZW5l
cmljL2dwaW8uaA0KPiA+IEBAIC0xMTcsMTAgKzExNywxNSBAQCBzdHJ1Y3QgdWRldmljZTsNCj4g
PiAgc3RydWN0IGdwaW9fZGVzYyB7DQo+ID4gICAgICAgICBzdHJ1Y3QgdWRldmljZSAqZGV2OyAg
ICAvKiBEZXZpY2UsIE5VTEwgZm9yIGludmFsaWQgR1BJTyAqLw0KPiA+ICAgICAgICAgdW5zaWdu
ZWQgbG9uZyBmbGFnczsNCj4gPiArDQo+ID4gICNkZWZpbmUgR1BJT0RfSVNfT1VUICAgICAgICAg
ICBCSVQoMSkgIC8qIEdQSU8gaXMgYW4gb3V0cHV0ICovDQo+ID4gICNkZWZpbmUgR1BJT0RfSVNf
SU4gICAgICAgICAgICBCSVQoMikgIC8qIEdQSU8gaXMgYW4gaW5wdXQgKi8NCj4gPiAgI2RlZmlu
ZSBHUElPRF9BQ1RJVkVfTE9XICAgICAgIEJJVCgzKSAgLyogdmFsdWUgaGFzIGFjdGl2ZSBsb3cg
Ki8NCj4gDQo+IHMvaGFzL2lzLyA/DQoNCkdQSU8gaXMgYWN0aXZlIHdoZW4gdmFsdWUgaXMgbG93
DQoNCj4gDQo+ID4gICNkZWZpbmUgR1BJT0RfSVNfT1VUX0FDVElWRSAgICBCSVQoNCkgIC8qIHNl
dCBvdXRwdXQgYWN0aXZlICovDQo+ID4gKyNkZWZpbmUgR1BJT0RfT1BFTl9EUkFJTiAgICAgICBC
SVQoNSkgIC8qIEdQSU8gaXMgb3BlbiBkcmFpbiB0eXBlICovDQo+ID4gKyNkZWZpbmUgR1BJT0Rf
T1BFTl9TT1VSQ0UgICAgICBCSVQoNikgIC8qIEdQSU8gaXMgb3BlbiBzb3VyY2UgdHlwZSAqLw0K
PiA+ICsjZGVmaW5lIEdQSU9EX1BVTExfVVAgICAgICAgICAgQklUKDcpICAvKiBHUElPIGhhcyBw
dWxsIHVwIGVuYWJsZWQgKi8NCj4gPiArI2RlZmluZSBHUElPRF9QVUxMX0RPV04gICAgICAgICAg
ICAgICAgQklUKDgpICAvKiBHUElPIGhhcyBwdWxsIGRvd24gZW5hYmxlZA0KPiAqLw0KPiANCj4g
cHVsbC1kb3duIG9yIHB1bGxkb3duDQoNCk9rID0+IHB1bGwtZG93bg0KDQo+ID4NCj4gPiAgICAg
ICAgIHVpbnQgb2Zmc2V0OyAgICAgICAgICAgIC8qIEdQSU8gb2Zmc2V0IHdpdGhpbiB0aGUgZGV2
aWNlICovDQo+ID4gICAgICAgICAvKg0KPiA+IEBAIC0xMjksNiArMTM0LDEyIEBAIHN0cnVjdCBn
cGlvX2Rlc2Mgew0KPiA+ICAgICAgICAgICovDQo+ID4gIH07DQo+ID4NCj4gPiArLyogaGVscGVy
IHRvIGNvbXB1dGUgdGhlIHZhbHVlIG9mIHRoZSBncGlvIG91dHB1dCAqLyAjZGVmaW5lDQo+ID4g
K0dQSU9EX0ZMQUdTX09VVFBVVF9NQVNLIChHUElPRF9BQ1RJVkVfTE9XIHwNCj4gR1BJT0RfSVNf
T1VUX0FDVElWRSkNCj4gPiArI2RlZmluZSBHUElPRF9GTEFHU19PVVRQVVQoZmxhZ3MpIFwNCj4g
PiArICAgICAgICgoKCgoZmxhZ3MpICYgR1BJT0RfRkxBR1NfT1VUUFVUX01BU0spID09DQo+IEdQ
SU9EX0lTX09VVF9BQ1RJVkUpIHx8IFwNCj4gPiArICAgICAgICAgKCgoZmxhZ3MpICYgR1BJT0Rf
RkxBR1NfT1VUUFVUX01BU0spID09DQo+IEdQSU9EX0FDVElWRV9MT1cpKSA/DQo+ID4gKzEgOiAw
KQ0KPiA+ICsNCj4gDQo+IFlvdSBjYW4gZHJvcCB0aGUgPyAxIDogMCBzaW5jZSBib29sZWFuIGV4
cHJlc3Npb25zIGRvIHRoYXQgYW55d2F5Lg0KDQpZZXMgSSBkcm9wIGl0IC4uLi4gDQoNCj4gPiAg
LyoqDQo+ID4gICAqIGRtX2dwaW9faXNfdmFsaWQoKSAtIENoZWNrIGlmIGEgR1BJTyBpcyB2YWxp
ZA0KPiA+ICAgKg0KPiA+IEBAIC0yNTMsNiArMjY0LDcgQEAgc3RydWN0IGRtX2dwaW9fb3BzIHsN
Cj4gPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludCB2YWx1ZSk7DQo+ID4gICAg
ICAgICBpbnQgKCpnZXRfdmFsdWUpKHN0cnVjdCB1ZGV2aWNlICpkZXYsIHVuc2lnbmVkIG9mZnNl
dCk7DQo+ID4gICAgICAgICBpbnQgKCpzZXRfdmFsdWUpKHN0cnVjdCB1ZGV2aWNlICpkZXYsIHVu
c2lnbmVkIG9mZnNldCwgaW50DQo+ID4gdmFsdWUpOw0KPiA+ICsNCj4gPiAgICAgICAgIC8qKg0K
PiA+ICAgICAgICAgICogZ2V0X2Z1bmN0aW9uKCkgR2V0IHRoZSBHUElPIGZ1bmN0aW9uDQo+ID4g
ICAgICAgICAgKg0KPiA+IEBAIC0yODcsNiArMjk5LDM3IEBAIHN0cnVjdCBkbV9ncGlvX29wcyB7
DQo+ID4gICAgICAgICAgKi8NCj4gPiAgICAgICAgIGludCAoKnhsYXRlKShzdHJ1Y3QgdWRldmlj
ZSAqZGV2LCBzdHJ1Y3QgZ3Bpb19kZXNjICpkZXNjLA0KPiA+ICAgICAgICAgICAgICAgICAgICAg
IHN0cnVjdCBvZm5vZGVfcGhhbmRsZV9hcmdzICphcmdzKTsNCj4gPiArDQo+ID4gKyAgICAgICAv
KioNCj4gPiArICAgICAgICAqIHNldF9kaXJfZmxhZ3MoKSAtIFNldCBHUElPIGRpciBmbGFncw0K
PiA+ICsgICAgICAgICoNCj4gPiArICAgICAgICAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIHNldCB1
cCB0aGUgR1BJTyBjb25maWd1cmF0aW9uIGFjY29yZGluZyB0byB0aGUNCj4gPiArICAgICAgICAq
IGluZm9ybWF0aW9uIHByb3ZpZGUgYnkgdGhlIGRpcmVjdGlvbiBmbGFncyBiaXRmaWVsZC4NCj4g
PiArICAgICAgICAqDQo+ID4gKyAgICAgICAgKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC4NCj4g
PiArICAgICAgICAqDQo+ID4gKyAgICAgICAgKiBAZGV2OiAgICAgICAgR1BJTyBkZXZpY2UNCj4g
PiArICAgICAgICAqIEBvZmZzZXQ6ICAgICBHUElPIG9mZnNldCB3aXRoaW4gdGhhdCBkZXZpY2UN
Cj4gPiArICAgICAgICAqIEBmbGFnczogICAgICBHUElPIGNvbmZpZ3VyYXRpb24gdG8gdXNlDQo+
ID4gKyAgICAgICAgKiBAcmV0dXJuIDAgaWYgT0ssIC12ZSBvbiBlcnJvcg0KPiA+ICsgICAgICAg
ICovDQo+ID4gKyAgICAgICBpbnQgKCpzZXRfZGlyX2ZsYWdzKShzdHJ1Y3QgdWRldmljZSAqZGV2
LCB1bnNpZ25lZCBpbnQgb2Zmc2V0LA0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAg
dWxvbmcgZmxhZ3MpOw0KPiA+ICsNCj4gPiArICAgICAgIC8qKg0KPiA+ICsgICAgICAgICogZ2V0
X2Rpcl9mbGFncygpIC0gR2V0IEdQSU8gZGlyIGZsYWdzDQo+ID4gKyAgICAgICAgKg0KPiA+ICsg
ICAgICAgICogVGhpcyBmdW5jdGlvbiByZXR1cm4gdGhlIEdQSU8gZGlyZWN0aW9uIGZsYWdzIHVz
ZWQuDQo+ID4gKyAgICAgICAgKg0KPiA+ICsgICAgICAgICogVGhpcyBtZXRob2QgaXMgb3B0aW9u
YWwuDQo+ID4gKyAgICAgICAgKg0KPiA+ICsgICAgICAgICogQGRldjogICAgICAgIEdQSU8gZGV2
aWNlDQo+ID4gKyAgICAgICAgKiBAb2Zmc2V0OiAgICAgR1BJTyBvZmZzZXQgd2l0aGluIHRoYXQg
ZGV2aWNlDQo+ID4gKyAgICAgICAgKiBAZmxhZ3M6ICAgICAgcGxhY2UgdG8gcHV0IHRoZSB1c2Vk
IGRpcmVjdGlvbiBmbGFncyBieSBHUElPDQo+ID4gKyAgICAgICAgKiBAcmV0dXJuIDAgaWYgT0ss
IC12ZSBvbiBlcnJvcg0KPiA+ICsgICAgICAgICovDQo+ID4gKyAgICAgICBpbnQgKCpnZXRfZGly
X2ZsYWdzKShzdHJ1Y3QgdWRldmljZSAqZGV2LCB1bnNpZ25lZCBpbnQgb2Zmc2V0LA0KPiA+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgdWxvbmcgKmZsYWdzKTsNCj4gPiAgfTsNCj4gPg0K
PiA+ICAvKioNCj4gPiBAQCAtNTg2LDggKzYyOSw3IEBAIGludCBkbV9ncGlvX3NldF92YWx1ZShj
b25zdCBzdHJ1Y3QgZ3Bpb19kZXNjDQo+ID4gKmRlc2MsIGludCB2YWx1ZSk7DQo+ID4gIC8qKg0K
PiA+ICAgKiBkbV9ncGlvX3NldF9kaXIoKSAtIFNldCB0aGUgZGlyZWN0aW9uIGZvciBhIEdQSU8N
Cj4gPiAgICoNCj4gPiAtICogVGhpcyBzZXRzIHVwIHRoZSBkaXJlY3Rpb24gYWNjb3JkaW5nIHRv
dCB0aGUgcHJvdmlkZWQgZmxhZ3MuIEl0DQo+ID4gd2lsbCBkbw0KPiA+IC0gKiBub3RoaW5nIHVu
bGVzcyB0aGUgZGlyZWN0aW9uIGlzIGFjdHVhbGx5IHNwZWNpZmllZC4NCj4gPiArICogVGhpcyBz
ZXRzIHVwIHRoZSBkaXJlY3Rpb24gYWNjb3JkaW5nIHRvIHRoZSBHUElPIGZsYWdzOiBkZXNjLT5m
bGFncy4NCj4gPiAgICoNCj4gPiAgICogQGRlc2M6ICAgICAgR1BJTyBkZXNjcmlwdGlvbiBjb250
YWluaW5nIGRldmljZSwgb2Zmc2V0IGFuZCBmbGFncywNCj4gPiAgICogICAgICAgICAgICAgcHJl
dmlvdXNseSByZXR1cm5lZCBieSBncGlvX3JlcXVlc3RfYnlfbmFtZSgpDQo+ID4gQEAgLTU5Niwx
MSArNjM4LDEwIEBAIGludCBkbV9ncGlvX3NldF92YWx1ZShjb25zdCBzdHJ1Y3QgZ3Bpb19kZXNj
DQo+ID4gKmRlc2MsIGludCB2YWx1ZSk7ICBpbnQgZG1fZ3Bpb19zZXRfZGlyKHN0cnVjdCBncGlv
X2Rlc2MgKmRlc2MpOw0KPiA+DQo+ID4gIC8qKg0KPiA+IC0gKiBkbV9ncGlvX3NldF9kaXJfZmxh
Z3MoKSAtIFNldCBkaXJlY3Rpb24gdXNpbmcgc3BlY2lmaWMgZmxhZ3MNCj4gPiArICogZG1fZ3Bp
b19zZXRfZGlyX2ZsYWdzKCkgLSBTZXQgZGlyZWN0aW9uIHVzaW5nIGFkZCBmbGFncw0KPiA+ICAg
Kg0KPiA+IC0gKiBUaGlzIGlzIGxpa2UgZG1fZ3Bpb19zZXRfZGlyKCkgZXhjZXB0IHRoYXQgdGhl
IGZsYWdzIHZhbHVlIGlzDQo+ID4gcHJvdmlkZWQNCj4gPiAtICogaW5zdGVhZCBvZiBiZWluZyB1
c2VkIGZyb20gZGVzYy0+ZmxhZ3MuIFRoaXMgaXMgbmVlZGVkIGJlY2F1c2UgaW4NCj4gPiBtYW55
DQo+ID4gLSAqIGNhc2VzIHRoZSBHUElPIGRlc2NyaXB0aW9uIGRvZXMgbm90IGluY2x1ZGUgZGly
ZWN0aW9uIGluZm9ybWF0aW9uLg0KPiA+ICsgKiBUaGlzIHNldHMgdXAgdGhlIGRpcmVjdGlvbiBh
Y2NvcmRpbmcgdG90IHRoZSBwcm92aWRlZCBmbGFncyBhbmQNCj4gPiArIHRoZSBHUElPDQo+ID4g
KyAqIGRlc2NyaXB0aW9uIChkZXNjLT5mbGFncykgd2hpY2ggaW5jbHVkZSBkaXJlY3Rpb24gaW5m
b3JtYXRpb24uDQo+ID4gICAqIE5vdGUgdGhhdCBkZXNjLT5mbGFncyBpcyB1cGRhdGVkIGJ5IHRo
aXMgZnVuY3Rpb24uDQo+ID4gICAqDQo+ID4gICAqIEBkZXNjOiAgICAgIEdQSU8gZGVzY3JpcHRp
b24gY29udGFpbmluZyBkZXZpY2UsIG9mZnNldCBhbmQgZmxhZ3MsDQo+ID4gQEAgLTYxMCw2ICs2
NTEsMTggQEAgaW50IGRtX2dwaW9fc2V0X2RpcihzdHJ1Y3QgZ3Bpb19kZXNjICpkZXNjKTsNCj4g
PiAgICovDQo+ID4gIGludCBkbV9ncGlvX3NldF9kaXJfZmxhZ3Moc3RydWN0IGdwaW9fZGVzYyAq
ZGVzYywgdWxvbmcgZmxhZ3MpOw0KPiA+DQo+ID4gKy8qKg0KPiA+ICsgKiBkbV9ncGlvX2dldF9k
aXJfZmxhZ3MoKSAtIEdldCBkaXJlY3Rpb24gZmxhZ3MNCj4gPiArICoNCj4gPiArICogcmVhZCB0
aGUgY3VycmVudCBkaXJlY3Rpb24gZmxhZ3MNCj4gPiArICoNCj4gPiArICogQGRlc2M6ICAgICAg
R1BJTyBkZXNjcmlwdGlvbiBjb250YWluaW5nIGRldmljZSwgb2Zmc2V0IGFuZCBmbGFncywNCj4g
PiArICogICAgICAgICAgICAgcHJldmlvdXNseSByZXR1cm5lZCBieSBncGlvX3JlcXVlc3RfYnlf
bmFtZSgpDQo+ID4gKyAqIEBmbGFnczogICAgIHBsYWNlIHRvIHB1dCB0aGUgdXNlZCBmbGFncw0K
PiA+ICsgKiBAcmV0dXJuIDAgaWYgT0ssIC12ZSBvbiBlcnJvciwgaW4gd2hpY2ggY2FzZSBkZXNj
LT5mbGFncyBpcyBub3QNCj4gPiArdXBkYXRlZCAgKi8gaW50IGRtX2dwaW9fZ2V0X2Rpcl9mbGFn
cyhzdHJ1Y3QgZ3Bpb19kZXNjICpkZXNjLCB1bG9uZw0KPiA+ICsqZmxhZ3MpOw0KPiA+ICsNCj4g
PiAgLyoqDQo+ID4gICAqIGdwaW9fZ2V0X251bWJlcigpIC0gR2V0IHRoZSBnbG9iYWwgR1BJTyBu
dW1iZXIgb2YgYSBHUElPDQo+ID4gICAqDQo+ID4gLS0NCj4gPiAyLjE3LjENCj4gPg0KPiANCj4g
VGhlcmUncyBhIGxvdCBnb2luZyBvbiBpbiB0aGlzIHBhdGNoLg0KDQpZZXMsIEkgY2FuIHNwbGl0
IHRoZSB3b3JrIHRvIGhlbHAgdGhlIHJldmlldw0KDQoxLyBwcmVwYXJlDQoyLyBhZGQgZ2V0X2Rp
cl9mbGFncw0KMy8gYWRkIHNldF9kaXJfZmxhZ3MNCg0KPiBSZWdhcmRzLA0KPiBTaW1vbg0KDQpS
ZWdhcmRzDQpQYXRyaWNrDQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fXwpVYm9vdC1zdG0zMiBtYWlsaW5nIGxpc3QKVWJvb3Qtc3RtMzJAc3QtbWQtbWFpbG1h
bi5zdG9ybXJlcGx5LmNvbQpodHRwczovL3N0LW1kLW1haWxtYW4uc3Rvcm1yZXBseS5jb20vbWFp
bG1hbi9saXN0aW5mby91Ym9vdC1zdG0zMgo=
