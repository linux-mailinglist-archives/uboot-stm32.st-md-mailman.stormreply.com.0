Return-Path: <uboot-stm32-bounces@st-md-mailman.stormreply.com>
X-Original-To: lists+uboot-stm32@lfdr.de
Delivered-To: lists+uboot-stm32@lfdr.de
Received: from stm-ict-prod-mailman-01.stormreply.prv (st-md-mailman.stormreply.com [52.209.6.89])
	by mail.lfdr.de (Postfix) with ESMTPS id 88734B1B2B
	for <lists+uboot-stm32@lfdr.de>; Fri, 13 Sep 2019 11:53:43 +0200 (CEST)
Received: from ip-172-31-3-76.eu-west-1.compute.internal (localhost [127.0.0.1])
	by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTP id 503EDC35E06
	for <lists+uboot-stm32@lfdr.de>; Fri, 13 Sep 2019 09:53:43 +0000 (UTC)
Received: from mx07-00178001.pphosted.com (mx08-00178001.pphosted.com
 [91.207.212.93])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTPS id B47D4C36B3F
 for <uboot-stm32@st-md-mailman.stormreply.com>;
 Fri, 13 Sep 2019 09:48:43 +0000 (UTC)
Received: from pps.filterd (m0046660.ppops.net [127.0.0.1])
 by mx08-00178001.pphosted.com (8.16.0.42/8.16.0.42) with SMTP id
 x8D9k3tD018527; Fri, 13 Sep 2019 11:48:39 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=st.com;
 h=from : to : subject :
 date : message-id : in-reply-to : references : mime-version : content-type
 : content-transfer-encoding; s=STMicroelectronics;
 bh=BwHlBaLyVK+9PTA9td9dIC16P9/ABTXLnJLPW8q5F1I=;
 b=XDqbITdvflPg3ja2BDFM1tM0mQRnYWw23lXPYMwaPj2luP8IHCUdDZ83PAxlkCCnplhb
 GGHQueCCu8AXQbBAuu0Y0u7eTpAs4ENT4xX+fEcAtS6z4ljSg1GrwcfgK8clNwmABlaS
 /JVpdoSxPi/vTZEK7Ih98gvaT7AdoGMyOitgGSalXOnR2HAJsFGtmpH84j/ql1YSnjtc
 uFc4gta/9uw2Dvalj7zM2Pn9Q0XCkz7sTeT9H+w93rEo/qoDwzYc5ywq627RX5hv055E
 /ff9yJ+CMi4N7w2r02PdFrwI11LdXP7OpghaGIQyd+cmMb1WujvCdwuHSt37oiKuLfxC Qw== 
Received: from beta.dmz-ap.st.com (beta.dmz-ap.st.com [138.198.100.35])
 by mx08-00178001.pphosted.com with ESMTP id 2uytdx469u-1
 (version=TLSv1 cipher=ECDHE-RSA-AES256-SHA bits=256 verify=NOT);
 Fri, 13 Sep 2019 11:48:39 +0200
Received: from euls16034.sgp.st.com (euls16034.sgp.st.com [10.75.44.20])
 by beta.dmz-ap.st.com (STMicroelectronics) with ESMTP id 1695850;
 Fri, 13 Sep 2019 09:48:35 +0000 (GMT)
Received: from Webmail-eu.st.com (Safex1hubcas22.st.com [10.75.90.92])
 by euls16034.sgp.st.com (STMicroelectronics) with ESMTP id C7D232BB882;
 Fri, 13 Sep 2019 11:48:34 +0200 (CEST)
Received: from SAFEX1HUBCAS21.st.com (10.75.90.45) by Safex1hubcas22.st.com
 (10.75.90.92) with Microsoft SMTP Server (TLS) id 14.3.439.0; Fri, 13 Sep
 2019 11:48:34 +0200
Received: from localhost (10.201.23.97) by Webmail-ga.st.com (10.75.90.48)
 with Microsoft SMTP Server (TLS) id 14.3.439.0; Fri, 13 Sep 2019 11:48:33
 +0200
From: =?UTF-8?q?Yannick=20Fertr=C3=A9?= <yannick.fertre@st.com>
To: Vikas Manocha <vikas.manocha@st.com>, Benjamin Gaignard
 <benjamin.gaignard@st.com>, Albert Aribaud <albert.u.boot@aribaud.net>,
 Patrick Delaunay <patrick.delaunay@st.com>,
 Simon Glass <sjg@chromium.org>, Anatolij Gustschin <agust@denx.de>,
 Patrice Chotard <patrice.chotard@st.com>,
 =?UTF-8?q?Yannick=20Fertr=C3=A9?= <yannick.fertre@st.com>, Philippe Cornu
 <philippe.cornu@st.com>, Jens Wiklander <jens.wiklander@linaro.org>, "Eugen
 Hristev" <eugen.hristev@microchip.com>, Heinrich Schuchardt
 <xypron.glpk@gmx.de>, Simon Goldschmidt <simon.k.r.goldschmidt@gmail.com>,
 <u-boot@lists.denx.de>, <uboot-stm32@st-md-mailman.stormreply.com>
Date: Fri, 13 Sep 2019 11:47:53 +0200
Message-ID: <1568368083-11075-6-git-send-email-yannick.fertre@st.com>
X-Mailer: git-send-email 2.7.4
In-Reply-To: <1568368083-11075-1-git-send-email-yannick.fertre@st.com>
References: <1568368083-11075-1-git-send-email-yannick.fertre@st.com>
MIME-Version: 1.0
X-Originating-IP: [10.201.23.97]
X-Proofpoint-Virus-Version: vendor=fsecure engine=2.50.10434:6.0.70,1.0.8
 definitions=2019-09-13_05:2019-09-11,2019-09-13 signatures=0
X-Mailman-Approved-At: Fri, 13 Sep 2019 09:53:41 +0000
Subject: [Uboot-stm32] [PATCH v4 05/15] dm: Add a dsi host uclass
X-BeenThere: uboot-stm32@st-md-mailman.stormreply.com
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: <uboot-stm32.st-md-mailman.stormreply.com>
List-Unsubscribe: <https://st-md-mailman.stormreply.com/mailman/options/uboot-stm32>, 
 <mailto:uboot-stm32-request@st-md-mailman.stormreply.com?subject=unsubscribe>
List-Archive: <http://st-md-mailman.stormreply.com/pipermail/uboot-stm32/>
List-Post: <mailto:uboot-stm32@st-md-mailman.stormreply.com>
List-Help: <mailto:uboot-stm32-request@st-md-mailman.stormreply.com?subject=help>
List-Subscribe: <https://st-md-mailman.stormreply.com/mailman/listinfo/uboot-stm32>, 
 <mailto:uboot-stm32-request@st-md-mailman.stormreply.com?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: uboot-stm32-bounces@st-md-mailman.stormreply.com
Sender: "Uboot-stm32" <uboot-stm32-bounces@st-md-mailman.stormreply.com>

RFNJIGhvc3QgY2FuIHVzZWZ1bGx5IGJlIG1vZGVsbGVkIGFzIHRoZWlyIG93biB1Y2xhc3MuCgpT
aWduZWQtb2ZmLWJ5OiBZYW5uaWNrIEZlcnRyw6kgPHlhbm5pY2suZmVydHJlQHN0LmNvbT4KLS0t
CiBhcmNoL3NhbmRib3gvZHRzL3NhbmRib3guZHRzICAgICB8ICA2ICsrLQogY29uZmlncy9zYW5k
Ym94X2RlZmNvbmZpZyAgICAgICAgfCAgMSArCiBkcml2ZXJzL3ZpZGVvL0tjb25maWcgICAgICAg
ICAgICB8ICA3ICsrKysKIGRyaXZlcnMvdmlkZW8vTWFrZWZpbGUgICAgICAgICAgIHwgIDIgKwog
ZHJpdmVycy92aWRlby9kc2ktaG9zdC11Y2xhc3MuYyAgfCAzOSArKysrKysrKysrKysrKysrKysr
CiBkcml2ZXJzL3ZpZGVvL3NhbmRib3hfZHNpX2hvc3QuYyB8IDgzICsrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysKIGluY2x1ZGUvZG0vdWNsYXNzLWlkLmggICAgICAgICAg
IHwgIDEgKwogaW5jbHVkZS9kc2lfaG9zdC5oICAgICAgICAgICAgICAgfCA1NyArKysrKysrKysr
KysrKysrKysrKysrKysrKysKIHRlc3QvZG0vTWFrZWZpbGUgICAgICAgICAgICAgICAgIHwgIDEg
KwogdGVzdC9kbS9kc2lfaG9zdC5jICAgICAgICAgICAgICAgfCA1OCArKysrKysrKysrKysrKysr
KysrKysrKysrKysrCiAxMCBmaWxlcyBjaGFuZ2VkLCAyNTQgaW5zZXJ0aW9ucygrKSwgMSBkZWxl
dGlvbigtKQogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvdmlkZW8vZHNpLWhvc3QtdWNsYXNz
LmMKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL3ZpZGVvL3NhbmRib3hfZHNpX2hvc3QuYwog
Y3JlYXRlIG1vZGUgMTAwNjQ0IGluY2x1ZGUvZHNpX2hvc3QuaAogY3JlYXRlIG1vZGUgMTAwNjQ0
IHRlc3QvZG0vZHNpX2hvc3QuYwoKZGlmZiAtLWdpdCBhL2FyY2gvc2FuZGJveC9kdHMvc2FuZGJv
eC5kdHMgYi9hcmNoL3NhbmRib3gvZHRzL3NhbmRib3guZHRzCmluZGV4IDE2YTMzZGIuLmYxNjM3
YzggMTAwNjQ0Ci0tLSBhL2FyY2gvc2FuZGJveC9kdHMvc2FuZGJveC5kdHMKKysrIGIvYXJjaC9z
YW5kYm94L2R0cy9zYW5kYm94LmR0cwpAQCAtMjUsNiArMjUsMTEgQEAKIAkJY29tcGF0aWJsZSA9
ICJnb29nbGUsY3Jvcy1lYy1zYW5kYm94IjsKIAl9OwogCisJZHNpX2hvc3Q6IGRzaV9ob3N0IHsK
KwkJY29tcGF0aWJsZSA9ICJzYW5kYm94LGRzaS1ob3N0IjsKKwkJc3RhdHVzID0gIm9rYXkiOwor
CX07CisKIAlldGhyYXdidXMgewogCQljb21wYXRpYmxlID0gInNhbmRib3gsZXRoLXJhdy1idXMi
OwogCQlza2lwLWxvY2FsaG9zdCA9IDwwPjsKQEAgLTYzLDcgKzY4LDYgQEAKIAkJY29tcGF0aWJs
ZSA9ICJzYW5kYm94LHNwaSI7CiAJCWNzLWdwaW9zID0gPDA+LCA8JmdwaW9fYSAwPjsKIAl9Owot
CiB9OwogCiAjaW5jbHVkZSAic2FuZGJveC5kdHNpIgpkaWZmIC0tZ2l0IGEvY29uZmlncy9zYW5k
Ym94X2RlZmNvbmZpZyBiL2NvbmZpZ3Mvc2FuZGJveF9kZWZjb25maWcKaW5kZXggNzM1NWUzYS4u
OTBmM2UyNiAxMDA2NDQKLS0tIGEvY29uZmlncy9zYW5kYm94X2RlZmNvbmZpZworKysgYi9jb25m
aWdzL3NhbmRib3hfZGVmY29uZmlnCkBAIC0yMDUsNiArMjA1LDcgQEAgQ09ORklHX0NPTlNPTEVf
Uk9UQVRJT049eQogQ09ORklHX0NPTlNPTEVfVFJVRVRZUEU9eQogQ09ORklHX0NPTlNPTEVfVFJV
RVRZUEVfQ0FOVE9SQU9ORT15CiBDT05GSUdfVklERU9fU0FOREJPWF9TREw9eQorQ09ORklHX1ZJ
REVPX0RTSV9IT1NUX1NBTkRCT1g9eQogQ09ORklHX09TRD15CiBDT05GSUdfU0FOREJPWF9PU0Q9
eQogQ09ORklHX1cxPXkKZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmlkZW8vS2NvbmZpZyBiL2RyaXZl
cnMvdmlkZW8vS2NvbmZpZwppbmRleCAzNmY2NjZlLi41NTRiN2RiIDEwMDY0NAotLS0gYS9kcml2
ZXJzL3ZpZGVvL0tjb25maWcKKysrIGIvZHJpdmVycy92aWRlby9LY29uZmlnCkBAIC02ODYsNiAr
Njg2LDEzIEBAIGNvbmZpZyBWSURFT19EV19IRE1JCiAJICByYXRoZXIgcmVxdWlyZXMgYSBTb0Mt
c3BlY2lmaWMgZ2x1ZSBkcml2ZXIgdG8gY2FsbCBpdCksIGl0CiAJICBjYW4gbm90IGJlIGVuYWJs
ZWQgZnJvbSB0aGUgY29uZmlndXJhdGlvbiBtZW51LgogCitjb25maWcgVklERU9fRFNJX0hPU1Rf
U0FOREJPWAorCWJvb2wgIkVuYWJsZSBzYW5kYm94IGZvciBkc2kgaG9zdCIKKwlkZXBlbmRzIG9u
IFNBTkRCT1gKKwloZWxwCisJICBFbmFibGUgc3VwcG9ydCBmb3Igc2FuZGJveCBkc2kgaG9zdCBk
ZXZpY2UgdXNlZCBmb3IgdGVzdGluZworCSAgcHVycG9zZXMuCisKIGNvbmZpZyBWSURFT19TSU1Q
TEUKIAlib29sICJTaW1wbGUgZGlzcGxheSBkcml2ZXIgZm9yIHByZWNvbmZpZ3VyZWQgZGlzcGxh
eSIKIAloZWxwCmRpZmYgLS1naXQgYS9kcml2ZXJzL3ZpZGVvL01ha2VmaWxlIGIvZHJpdmVycy92
aWRlby9NYWtlZmlsZQppbmRleCA3ZGY5YjBiLi41ZWQzNTkwIDEwMDY0NAotLS0gYS9kcml2ZXJz
L3ZpZGVvL01ha2VmaWxlCisrKyBiL2RyaXZlcnMvdmlkZW8vTWFrZWZpbGUKQEAgLTExLDYgKzEx
LDcgQEAgb2JqLSQoQ09ORklHX0NPTlNPTEVfUk9UQVRJT04pICs9IGNvbnNvbGVfcm90YXRlLm8K
IG9iai0kKENPTkZJR19DT05TT0xFX1RSVUVUWVBFKSArPSBjb25zb2xlX3RydWV0eXBlLm8gZm9u
dHMvCiBvYmotJChDT05GSUdfRElTUExBWSkgKz0gZGlzcGxheS11Y2xhc3Mubwogb2JqLSQoQ09O
RklHX0RNX1ZJREVPKSArPSBiYWNrbGlnaHQtdWNsYXNzLm8KK29iai0kKENPTkZJR19ETV9WSURF
TykgKz0gZHNpLWhvc3QtdWNsYXNzLm8KIG9iai0kKENPTkZJR19ETV9WSURFTykgKz0gcGFuZWwt
dWNsYXNzLm8gc2ltcGxlX3BhbmVsLm8KIG9iai0kKENPTkZJR19ETV9WSURFTykgKz0gdmlkZW8t
dWNsYXNzLm8gdmlkY29uc29sZS11Y2xhc3Mubwogb2JqLSQoQ09ORklHX0RNX1ZJREVPKSArPSB2
aWRlb19ibXAubwpAQCAtNTgsNiArNTksNyBAQCBvYmotJChDT05GSUdfVklERU9fTVZFQlUpICs9
IG12ZWJ1X2xjZC5vCiBvYmotJChDT05GSUdfVklERU9fTVgzKSArPSBteDNmYi5vIHZpZGVvbW9k
ZXMubwogb2JqLSQoQ09ORklHX1ZJREVPX01YUykgKz0gbXhzZmIubyB2aWRlb21vZGVzLm8KIG9i
ai0kKENPTkZJR19WSURFT19PTUFQMykgKz0gb21hcDNfZHNzLm8KK29iai0kKENPTkZJR19WSURF
T19EU0lfSE9TVF9TQU5EQk9YKSArPSBzYW5kYm94X2RzaV9ob3N0Lm8KIG9iai0kKENPTkZJR19W
SURFT19TQU5EQk9YX1NETCkgKz0gc2FuZGJveF9zZGwubwogb2JqLSQoQ09ORklHX1ZJREVPX1NJ
TVBMRSkgKz0gc2ltcGxlZmIubwogb2JqLSQoQ09ORklHX1ZJREVPX1RFR1JBMjApICs9IHRlZ3Jh
Lm8KZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmlkZW8vZHNpLWhvc3QtdWNsYXNzLmMgYi9kcml2ZXJz
L3ZpZGVvL2RzaS1ob3N0LXVjbGFzcy5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAw
MDAuLjFkYjFmODgKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL3ZpZGVvL2RzaS1ob3N0LXVj
bGFzcy5jCkBAIC0wLDAgKzEsMzkgQEAKKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwt
Mi4wKworLyoKKyAqIENvcHlyaWdodCAoQykgMjAxOSBTVE1pY3JvZWxlY3Ryb25pY3MgLSBBbGwg
UmlnaHRzIFJlc2VydmVkCisgKiBBdXRob3Iocyk6IFlhbm5pY2sgRmVydHJlIDx5YW5uaWNrLmZl
cnRyZUBzdC5jb20+IGZvciBTVE1pY3JvZWxlY3Ryb25pY3MuCisgKgorICovCisKKyNpbmNsdWRl
IDxjb21tb24uaD4KKyNpbmNsdWRlIDxkbS5oPgorI2luY2x1ZGUgPGRzaV9ob3N0Lmg+CisKK2lu
dCBkc2lfaG9zdF9pbml0KHN0cnVjdCB1ZGV2aWNlICpkZXYsCisJCSAgc3RydWN0IG1pcGlfZHNp
X2RldmljZSAqZGV2aWNlLAorCQkgIHN0cnVjdCBkaXNwbGF5X3RpbWluZyAqdGltaW5ncywKKwkJ
ICB1bnNpZ25lZCBpbnQgbWF4X2RhdGFfbGFuZXMsCisJCSAgY29uc3Qgc3RydWN0IG1pcGlfZHNp
X3BoeV9vcHMgKnBoeV9vcHMpCit7CisJc3RydWN0IGRzaV9ob3N0X29wcyAqb3BzID0gZHNpX2hv
c3RfZ2V0X29wcyhkZXYpOworCisJaWYgKCFvcHMtPmluaXQpCisJCXJldHVybiAtRU5PU1lTOwor
CisJcmV0dXJuIG9wcy0+aW5pdChkZXYsIGRldmljZSwgdGltaW5ncywgbWF4X2RhdGFfbGFuZXMs
IHBoeV9vcHMpOworfQorCitpbnQgZHNpX2hvc3RfZW5hYmxlKHN0cnVjdCB1ZGV2aWNlICpkZXYp
Cit7CisJc3RydWN0IGRzaV9ob3N0X29wcyAqb3BzID0gZHNpX2hvc3RfZ2V0X29wcyhkZXYpOwor
CisJaWYgKCFvcHMtPmVuYWJsZSkKKwkJcmV0dXJuIC1FTk9TWVM7CisKKwlyZXR1cm4gb3BzLT5l
bmFibGUoZGV2KTsKK30KKworVUNMQVNTX0RSSVZFUihkc2lfaG9zdCkgPSB7CisJLmlkCQk9IFVD
TEFTU19EU0lfSE9TVCwKKwkubmFtZQkJPSAiZHNpX2hvc3QiLAorfTsKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvdmlkZW8vc2FuZGJveF9kc2lfaG9zdC5jIGIvZHJpdmVycy92aWRlby9zYW5kYm94X2Rz
aV9ob3N0LmMKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMC4uZWUwMWVkMQotLS0g
L2Rldi9udWxsCisrKyBiL2RyaXZlcnMvdmlkZW8vc2FuZGJveF9kc2lfaG9zdC5jCkBAIC0wLDAg
KzEsODMgQEAKKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wKyBPUiBCU0QtMy1D
bGF1c2UKKy8qCisgKiBDb3B5cmlnaHQgKEMpIDIwMTksIFNUTWljcm9lbGVjdHJvbmljcyAtIEFs
bCBSaWdodHMgUmVzZXJ2ZWQKKyAqLworCisjaW5jbHVkZSA8Y29tbW9uLmg+CisjaW5jbHVkZSA8
ZGlzcGxheS5oPgorI2luY2x1ZGUgPGRtLmg+CisjaW5jbHVkZSA8ZHNpX2hvc3QuaD4KKworc3Ry
dWN0IHNhbmRib3hfZHNpX2hvc3RfcHJpdiB7CisJc3RydWN0IG1pcGlfZHNpX2RldmljZSAqZGV2
aWNlOworCXN0cnVjdCBkaXNwbGF5X3RpbWluZyAqdGltaW5nczsKKwl1bnNpZ25lZCBpbnQgbWF4
X2RhdGFfbGFuZXM7CisJY29uc3Qgc3RydWN0IG1pcGlfZHNpX3BoeV9vcHMgKnBoeV9vcHM7Cit9
OworCitzdGF0aWMgaW50IHNhbmRib3hfZHNpX2hvc3RfaW5pdChzdHJ1Y3QgdWRldmljZSAqZGV2
LAorCQkJCSBzdHJ1Y3QgbWlwaV9kc2lfZGV2aWNlICpkZXZpY2UsCisJCQkJIHN0cnVjdCBkaXNw
bGF5X3RpbWluZyAqdGltaW5ncywKKwkJCQkgdW5zaWduZWQgaW50IG1heF9kYXRhX2xhbmVzLAor
CQkJCSBjb25zdCBzdHJ1Y3QgbWlwaV9kc2lfcGh5X29wcyAqcGh5X29wcykKK3sKKwlzdHJ1Y3Qg
c2FuZGJveF9kc2lfaG9zdF9wcml2ICpwcml2ID0gZGV2X2dldF9wcml2KGRldik7CisKKwlpZiAo
IWRldmljZSkKKwkJcmV0dXJuIC0xOworCisJaWYgKCF0aW1pbmdzKQorCQlyZXR1cm4gLTI7CisK
KwlpZiAobWF4X2RhdGFfbGFuZXMgPT0gMCkKKwkJcmV0dXJuIC0zOworCisJaWYgKCFwaHlfb3Bz
KQorCQlyZXR1cm4gLTQ7CisKKwlpZiAoIXBoeV9vcHMtPmluaXQgfHwgIXBoeV9vcHMtPmdldF9s
YW5lX21icHMgfHwKKwkgICAgIXBoeV9vcHMtPnBvc3Rfc2V0X21vZGUpCisJCXJldHVybiAtNTsK
KworCXByaXYtPm1heF9kYXRhX2xhbmVzID0gbWF4X2RhdGFfbGFuZXM7CisJcHJpdi0+cGh5X29w
cyA9IHBoeV9vcHM7CisJcHJpdi0+dGltaW5ncyA9IHRpbWluZ3M7CisJcHJpdi0+ZGV2aWNlID0g
ZGV2aWNlOworCisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBpbnQgc2FuZGJveF9kc2lfaG9zdF9l
bmFibGUoc3RydWN0IHVkZXZpY2UgKmRldikKK3sKKwlzdHJ1Y3Qgc2FuZGJveF9kc2lfaG9zdF9w
cml2ICpwcml2ID0gZGV2X2dldF9wcml2KGRldik7CisJdW5zaWduZWQgaW50IGxhbmVfbWJwczsK
KwlpbnQgcmV0OworCisJcHJpdi0+cGh5X29wcy0+aW5pdChwcml2LT5kZXZpY2UpOworCXJldCA9
IHByaXYtPnBoeV9vcHMtPmdldF9sYW5lX21icHMocHJpdi0+ZGV2aWNlLCBwcml2LT50aW1pbmdz
LCAyLAorCQkJCQkgICBNSVBJX0RTSV9GTVRfUkdCODg4LCAmbGFuZV9tYnBzKTsKKwlpZiAocmV0
KQorCQlyZXR1cm4gLTE7CisKKwlwcml2LT5waHlfb3BzLT5wb3N0X3NldF9tb2RlKHByaXYtPmRl
dmljZSwgTUlQSV9EU0lfTU9ERV9WSURFTyk7CisKKwlyZXR1cm4gMDsKK30KKworc3RydWN0IGRz
aV9ob3N0X29wcyBzYW5kYm94X2RzaV9ob3N0X29wcyA9IHsKKwkuaW5pdCA9IHNhbmRib3hfZHNp
X2hvc3RfaW5pdCwKKwkuZW5hYmxlID0gc2FuZGJveF9kc2lfaG9zdF9lbmFibGUsCit9OworCitz
dGF0aWMgY29uc3Qgc3RydWN0IHVkZXZpY2VfaWQgc2FuZGJveF9kc2lfaG9zdF9pZHNbXSA9IHsK
Kwl7IC5jb21wYXRpYmxlID0gInNhbmRib3gsZHNpLWhvc3QifSwKKwl7IH0KK307CisKK1VfQk9P
VF9EUklWRVIoc2FuZGJveF9kc2lfaG9zdCkgPSB7CisJLm5hbWUJCSAgICAgID0gInNhbmRib3gt
ZHNpLWhvc3QiLAorCS5pZAkJICAgICAgPSBVQ0xBU1NfRFNJX0hPU1QsCisJLm9mX21hdGNoCSAg
ICAgID0gc2FuZGJveF9kc2lfaG9zdF9pZHMsCisJLm9wcwkJICAgICAgPSAmc2FuZGJveF9kc2lf
aG9zdF9vcHMsCisJLnByaXZfYXV0b19hbGxvY19zaXplID0gc2l6ZW9mKHN0cnVjdCBzYW5kYm94
X2RzaV9ob3N0X3ByaXYpLAorfTsKZGlmZiAtLWdpdCBhL2luY2x1ZGUvZG0vdWNsYXNzLWlkLmgg
Yi9pbmNsdWRlL2RtL3VjbGFzcy1pZC5oCmluZGV4IGQ0ZDk2MTAuLjA2OTg5YzcgMTAwNjQ0Ci0t
LSBhL2luY2x1ZGUvZG0vdWNsYXNzLWlkLmgKKysrIGIvaW5jbHVkZS9kbS91Y2xhc3MtaWQuaApA
QCAtMzksNiArMzksNyBAQCBlbnVtIHVjbGFzc19pZCB7CiAJVUNMQVNTX0NQVSwJCS8qIENQVSwg
dHlwaWNhbGx5IHBhcnQgb2YgYW4gU29DICovCiAJVUNMQVNTX0NST1NfRUMsCQkvKiBDaHJvbWUg
T1MgRUMgKi8KIAlVQ0xBU1NfRElTUExBWSwJCS8qIERpc3BsYXkgKGUuZy4gRGlzcGxheVBvcnQs
IEhETUkpICovCisJVUNMQVNTX0RTSV9IT1NULAkvKiBEc2kgaG9zdCBkZXZpY2UgKi8KIAlVQ0xB
U1NfRE1BLAkJLyogRGlyZWN0IE1lbW9yeSBBY2Nlc3MgKi8KIAlVQ0xBU1NfRUZJLAkJLyogRUZJ
IG1hbmFnZWQgZGV2aWNlcyAqLwogCVVDTEFTU19FVEgsCQkvKiBFdGhlcm5ldCBkZXZpY2UgKi8K
ZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHNpX2hvc3QuaCBiL2luY2x1ZGUvZHNpX2hvc3QuaApuZXcg
ZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi45ZmYyMjZmCi0tLSAvZGV2L251bGwKKysr
IGIvaW5jbHVkZS9kc2lfaG9zdC5oCkBAIC0wLDAgKzEsNTcgQEAKKy8qIFNQRFgtTGljZW5zZS1J
ZGVudGlmaWVyOiBHUEwtMi4wKyAqLworLyoKKyAqIENvcHlyaWdodCAoQykgMjAxOSBTVE1pY3Jv
ZWxlY3Ryb25pY3MgLSBBbGwgUmlnaHRzIFJlc2VydmVkCisgKiBBdXRob3Iocyk6IFlhbm5pY2sg
RmVydHJlIDx5YW5uaWNrLmZlcnRyZUBzdC5jb20+IGZvciBTVE1pY3JvZWxlY3Ryb25pY3MuCisg
KgorICovCisKKyNpZm5kZWYgX0RTSV9IT1NUX0gKKyNkZWZpbmUgX0RTSV9IT1NUX0gKKworI2lu
Y2x1ZGUgPG1pcGlfZHNpLmg+CisKK3N0cnVjdCBkc2lfaG9zdF9vcHMgeworCS8qKgorCSAqIGlu
aXQoKSAtIEVuYWJsZSB0aGUgZHNpX2hvc3QKKwkgKgorCSAqIEBkZXY6IGRzaSBob3N0IGRldmlj
ZQorCSAqIEByZXR1cm4gMCBpZiBPSywgLXZlIG9uIGVycm9yCisJICovCisJaW50ICgqaW5pdCko
c3RydWN0IHVkZXZpY2UgKmRldiwKKwkJICAgIHN0cnVjdCBtaXBpX2RzaV9kZXZpY2UgKmRldmlj
ZSwKKwkJICAgIHN0cnVjdCBkaXNwbGF5X3RpbWluZyAqdGltaW5ncywKKwkJICAgIHVuc2lnbmVk
IGludCBtYXhfZGF0YV9sYW5lcywKKwkJICAgIGNvbnN0IHN0cnVjdCBtaXBpX2RzaV9waHlfb3Bz
ICpwaHlfb3BzKTsKKworCS8qKgorCSAqIGVuYWJsZSgpIC0gRW5hYmxlIHRoZSBkc2lfaG9zdAor
CSAqCisJICogQGRldjogZHNpIGhvc3QgZGV2aWNlCisJICogQHJldHVybiAwIGlmIE9LLCAtdmUg
b24gZXJyb3IKKwkgKi8KKwlpbnQgKCplbmFibGUpKHN0cnVjdCB1ZGV2aWNlICpkZXYpOworfTsK
KworI2RlZmluZSBkc2lfaG9zdF9nZXRfb3BzKGRldikJKChzdHJ1Y3QgZHNpX2hvc3Rfb3BzICop
KGRldiktPmRyaXZlci0+b3BzKQorCisvKioKKyAqIGRzaV9ob3N0X2luaXQKKyAqCisgKiBAZGV2
Oglkc2kgaG9zdCBkZXZpY2UKKyAqIEByZXR1cm4gMCBpZiBPSywgLXZlIG9uIGVycm9yCisgKi8K
K2ludCBkc2lfaG9zdF9pbml0KHN0cnVjdCB1ZGV2aWNlICpkZXYsCisJCSAgc3RydWN0IG1pcGlf
ZHNpX2RldmljZSAqZGV2aWNlLAorCQkgIHN0cnVjdCBkaXNwbGF5X3RpbWluZyAqdGltaW5ncywK
KwkJICB1bnNpZ25lZCBpbnQgbWF4X2RhdGFfbGFuZXMsCisJCSAgY29uc3Qgc3RydWN0IG1pcGlf
ZHNpX3BoeV9vcHMgKnBoeV9vcHMpOworCisvKioKKyAqIGRzaV9ob3N0X2VuYWJsZQorICoKKyAq
IEBkZXY6CWRzaSBob3N0IGRldmljZQorICogQHJldHVybiAwIGlmIE9LLCAtdmUgb24gZXJyb3IK
KyAqLworaW50IGRzaV9ob3N0X2VuYWJsZShzdHJ1Y3QgdWRldmljZSAqZGV2KTsKKworI2VuZGlm
CmRpZmYgLS1naXQgYS90ZXN0L2RtL01ha2VmaWxlIGIvdGVzdC9kbS9NYWtlZmlsZQppbmRleCA1
NWE3OTQwLi43NWM0Y2FlIDEwMDY0NAotLS0gYS90ZXN0L2RtL01ha2VmaWxlCisrKyBiL3Rlc3Qv
ZG0vTWFrZWZpbGUKQEAgLTE4LDYgKzE4LDcgQEAgb2JqLSQoQ09ORklHX0JMSykgKz0gYmxrLm8K
IG9iai0kKENPTkZJR19CT0FSRCkgKz0gYm9hcmQubwogb2JqLSQoQ09ORklHX0RNX0JPT1RDT1VO
VCkgKz0gYm9vdGNvdW50Lm8KIG9iai0kKENPTkZJR19DTEspICs9IGNsay5vIGNsa19jY2Yubwor
b2JqLSQoQ09ORklHX0RNX1ZJREVPKSArPSBkc2lfaG9zdC5vCiBvYmotJChDT05GSUdfRE1fRVRI
KSArPSBldGgubwogb2JqLSQoQ09ORklHX0ZJUk1XQVJFKSArPSBmaXJtd2FyZS5vCiBvYmotJChD
T05GSUdfRE1fR1BJTykgKz0gZ3Bpby5vCmRpZmYgLS1naXQgYS90ZXN0L2RtL2RzaV9ob3N0LmMg
Yi90ZXN0L2RtL2RzaV9ob3N0LmMKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMC4u
NTlmY2Q1NQotLS0gL2Rldi9udWxsCisrKyBiL3Rlc3QvZG0vZHNpX2hvc3QuYwpAQCAtMCwwICsx
LDU4IEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMCsgT1IgQlNELTMtQ2xh
dXNlCisvKgorICogQ29weXJpZ2h0IChDKSAyMDE5IFNUTWljcm9lbGVjdHJvbmljcyAtIEFsbCBS
aWdodHMgUmVzZXJ2ZWQKKyAqIEF1dGhvcihzKTogWWFubmljayBGZXJ0cmUgPHlhbm5pY2suZmVy
dHJlQHN0LmNvbT4gZm9yIFNUTWljcm9lbGVjdHJvbmljcy4KKyAqLworCisjaW5jbHVkZSA8Y29t
bW9uLmg+CisjaW5jbHVkZSA8ZG0uaD4KKyNpbmNsdWRlIDxkc2lfaG9zdC5oPgorI2luY2x1ZGUg
PGFzbS9zdGF0ZS5oPgorI2luY2x1ZGUgPGFzbS90ZXN0Lmg+CisjaW5jbHVkZSA8ZG0vdGVzdC5o
PgorI2luY2x1ZGUgPHRlc3QvdXQuaD4KKworc3RhdGljIGludCBkbV90ZXN0X2RzaV9ob3N0X3Bo
eV9pbml0KHZvaWQgKnByaXZfZGF0YSkKK3sKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIHZvaWQg
ZG1fdGVzdF9kc2lfaG9zdF9waHlfcG9zdF9zZXRfbW9kZSh2b2lkICpwcml2X2RhdGEsCisJCQkJ
CSAgICAgICB1bnNpZ25lZCBsb25nIG1vZGVfZmxhZ3MpCit7Cit9CisKK3N0YXRpYyBpbnQgZG1f
dGVzdF9kc2lfaG9zdF9waHlfZ2V0X2xhbmVfbWJwcyh2b2lkICpwcml2X2RhdGEsCisJCQkJCSAg
ICAgIHN0cnVjdCBkaXNwbGF5X3RpbWluZyAqdGltaW5ncywKKwkJCQkJICAgICAgdTMyIGxhbmVz
LAorCQkJCQkgICAgICB1MzIgZm9ybWF0LAorCQkJCQkgICAgICB1bnNpZ25lZCBpbnQgKmxhbmVf
bWJwcykKK3sKKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGNvbnN0IHN0cnVjdCBtaXBpX2RzaV9w
aHlfb3BzIGRtX3Rlc3RfZHNpX2hvc3RfcGh5X29wcyA9IHsKKwkuaW5pdCA9IGRtX3Rlc3RfZHNp
X2hvc3RfcGh5X2luaXQsCisJLmdldF9sYW5lX21icHMgPSBkbV90ZXN0X2RzaV9ob3N0X3BoeV9n
ZXRfbGFuZV9tYnBzLAorCS5wb3N0X3NldF9tb2RlID0gZG1fdGVzdF9kc2lfaG9zdF9waHlfcG9z
dF9zZXRfbW9kZSwKK307CisKKy8qIFRlc3QgdGhhdCBkc2lfaG9zdCBkcml2ZXIgZnVuY3Rpb25z
IGFyZSBjYWxsZWQgKi8KK3N0YXRpYyBpbnQgZG1fdGVzdF9kc2lfaG9zdChzdHJ1Y3QgdW5pdF90
ZXN0X3N0YXRlICp1dHMpCit7CisJc3RydWN0IHVkZXZpY2UgKmRldjsKKwlzdHJ1Y3QgbWlwaV9k
c2lfZGV2aWNlIGRldmljZTsKKwlzdHJ1Y3QgZGlzcGxheV90aW1pbmcgdGltaW5nczsKKwl1bnNp
Z25lZCBpbnQgbWF4X2RhdGFfbGFuZXMgPSA0OworCisJdXRfYXNzZXJ0b2sodWNsYXNzX2ZpcnN0
X2RldmljZV9lcnIoVUNMQVNTX0RTSV9IT1NULCAmZGV2KSk7CisKKwl1dF9hc3NlcnRvayhkc2lf
aG9zdF9pbml0KGRldiwgJmRldmljZSwgJnRpbWluZ3MsIG1heF9kYXRhX2xhbmVzLAorCQkJCSAg
JmRtX3Rlc3RfZHNpX2hvc3RfcGh5X29wcykpOworCisJdXRfYXNzZXJ0b2soZHNpX2hvc3RfZW5h
YmxlKGRldikpOworCisJcmV0dXJuIDA7Cit9CisKK0RNX1RFU1QoZG1fdGVzdF9kc2lfaG9zdCwg
RE1fVEVTVEZfU0NBTl9QREFUQSB8IERNX1RFU1RGX1NDQU5fRkRUKTsKLS0gCjIuNy40CgpfX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpVYm9vdC1zdG0zMiBt
YWlsaW5nIGxpc3QKVWJvb3Qtc3RtMzJAc3QtbWQtbWFpbG1hbi5zdG9ybXJlcGx5LmNvbQpodHRw
czovL3N0LW1kLW1haWxtYW4uc3Rvcm1yZXBseS5jb20vbWFpbG1hbi9saXN0aW5mby91Ym9vdC1z
dG0zMgo=
