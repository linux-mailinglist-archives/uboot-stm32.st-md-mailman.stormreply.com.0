Return-Path: <uboot-stm32-bounces@st-md-mailman.stormreply.com>
X-Original-To: lists+uboot-stm32@lfdr.de
Delivered-To: lists+uboot-stm32@lfdr.de
Received: from stm-ict-prod-mailman-01.stormreply.prv (st-md-mailman.stormreply.com [52.209.6.89])
	by mail.lfdr.de (Postfix) with ESMTPS id 8C749CE3A0
	for <lists+uboot-stm32@lfdr.de>; Mon,  7 Oct 2019 15:29:41 +0200 (CEST)
Received: from ip-172-31-3-76.eu-west-1.compute.internal (localhost [127.0.0.1])
	by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTP id 5CB51C36B0D
	for <lists+uboot-stm32@lfdr.de>; Mon,  7 Oct 2019 13:29:41 +0000 (UTC)
Received: from mx07-00178001.pphosted.com (mx08-00178001.pphosted.com
 [91.207.212.93])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by stm-ict-prod-mailman-01.stormreply.prv (Postfix) with ESMTPS id 59EFBC36B10
 for <uboot-stm32@st-md-mailman.stormreply.com>;
 Mon,  7 Oct 2019 13:29:39 +0000 (UTC)
Received: from pps.filterd (m0046660.ppops.net [127.0.0.1])
 by mx08-00178001.pphosted.com (8.16.0.42/8.16.0.42) with SMTP id
 x97DLCEY028595; Mon, 7 Oct 2019 15:29:34 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=st.com;
 h=from : to : subject :
 date : message-id : in-reply-to : references : mime-version : content-type
 : content-transfer-encoding; s=STMicroelectronics;
 bh=aspNsgG6Lnrmx5mdM2YLBlE9H3RArKgQVK4Jfwph4z0=;
 b=h3i1PghVXKwIelFSP56XUrUDkEEvxCzcDKisTnYFqJz8QsmCScntT46DEdtwhdoeQUrE
 2tKBXoAqjm22n9lKfNUlMs7pYLqkIV5he9X/KKAxecr1FZ4ziVG2DU4sJRaew6mjJ1U5
 qZf4nvhKmvu5nah1b8GKhuWOxChCvmX3hbwjtqJ3s25fI/jluuZkYHXI1t62u34YwdU3
 J4T/QlrSMqPKfh9/G0YH741eNNRPBVM7N3wJ5iZGyYDeVd6yteS4q/uV3dtMYv3eGzmC
 P1Xv7JOPNWtPstQSfI9W9C/o2ju5p9Q0MRkcknW3f1JwdzU7JroKmiwRu9bSTDT29qAb Lg== 
Received: from beta.dmz-eu.st.com (beta.dmz-eu.st.com [164.129.1.35])
 by mx08-00178001.pphosted.com with ESMTP id 2vegagtxq3-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Mon, 07 Oct 2019 15:29:34 +0200
Received: from euls16034.sgp.st.com (euls16034.sgp.st.com [10.75.44.20])
 by beta.dmz-eu.st.com (STMicroelectronics) with ESMTP id 8AFD1100038;
 Mon,  7 Oct 2019 15:29:33 +0200 (CEST)
Received: from Webmail-eu.st.com (Safex1hubcas21.st.com [10.75.90.44])
 by euls16034.sgp.st.com (STMicroelectronics) with ESMTP id 801A92BFDF5;
 Mon,  7 Oct 2019 15:29:33 +0200 (CEST)
Received: from SAFEX1HUBCAS22.st.com (10.75.90.93) by SAFEX1HUBCAS21.st.com
 (10.75.90.44) with Microsoft SMTP Server (TLS) id 14.3.439.0; Mon, 7 Oct 2019
 15:29:33 +0200
Received: from localhost (10.201.23.97) by Webmail-ga.st.com (10.75.90.48)
 with Microsoft SMTP Server (TLS) id 14.3.439.0; Mon, 7 Oct 2019 15:29:32
 +0200
From: =?UTF-8?q?Yannick=20Fertr=C3=A9?= <yannick.fertre@st.com>
To: Vikas Manocha <vikas.manocha@st.com>, Benjamin Gaignard
 <benjamin.gaignard@st.com>, Albert Aribaud <albert.u.boot@aribaud.net>,
 Patrick Delaunay <patrick.delaunay@st.com>,
 Simon Glass <sjg@chromium.org>, Anatolij Gustschin <agust@denx.de>,
 Patrice Chotard <patrice.chotard@st.com>,
 Yannick Fertre <yannick.fertre@st.com>, Philippe Cornu
 <philippe.cornu@st.com>, Jens Wiklander <jens.wiklander@linaro.org>, "Eugen
 Hristev" <eugen.hristev@microchip.com>, Heinrich Schuchardt
 <xypron.glpk@gmx.de>, Simon Goldschmidt <simon.k.r.goldschmidt@gmail.com>,
 <u-boot@lists.denx.de>, <uboot-stm32@st-md-mailman.stormreply.com>
Date: Mon, 7 Oct 2019 15:29:05 +0200
Message-ID: <1570454955-21298-6-git-send-email-yannick.fertre@st.com>
X-Mailer: git-send-email 2.7.4
In-Reply-To: <1570454955-21298-1-git-send-email-yannick.fertre@st.com>
References: <1570454955-21298-1-git-send-email-yannick.fertre@st.com>
MIME-Version: 1.0
X-Originating-IP: [10.201.23.97]
X-Proofpoint-Virus-Version: vendor=fsecure engine=2.50.10434:6.0.95,1.0.8
 definitions=2019-10-07_02:2019-10-07,2019-10-07 signatures=0
Subject: [Uboot-stm32] [PATCH v5 05/15] dm: Add a dsi host uclass
X-BeenThere: uboot-stm32@st-md-mailman.stormreply.com
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: <uboot-stm32.st-md-mailman.stormreply.com>
List-Unsubscribe: <https://st-md-mailman.stormreply.com/mailman/options/uboot-stm32>, 
 <mailto:uboot-stm32-request@st-md-mailman.stormreply.com?subject=unsubscribe>
List-Archive: <http://st-md-mailman.stormreply.com/pipermail/uboot-stm32/>
List-Post: <mailto:uboot-stm32@st-md-mailman.stormreply.com>
List-Help: <mailto:uboot-stm32-request@st-md-mailman.stormreply.com?subject=help>
List-Subscribe: <https://st-md-mailman.stormreply.com/mailman/listinfo/uboot-stm32>, 
 <mailto:uboot-stm32-request@st-md-mailman.stormreply.com?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: uboot-stm32-bounces@st-md-mailman.stormreply.com
Sender: "Uboot-stm32" <uboot-stm32-bounces@st-md-mailman.stormreply.com>

RGlzcGxheSBTZXJpYWwgSW50ZXJmYWNlIChEU0kpIGhvc3QgY2FuIHVzZWZ1bGx5IGJlIG1vZGVs
bGVkCmFzIHRoZWlyIG93biB1Y2xhc3MuCkRTSSBkZWZpbmVzIGEgc2VyaWFsIGJ1cyBhbmQgYSBj
b21tdW5pY2F0aW9uIHByb3RvY29sCmJldHdlZW4gdGhlIGhvc3QgYW5kIHRoZSBkZXZpY2UgKHBh
bmVsLCBicmlkZ2UpLgoKU2lnbmVkLW9mZi1ieTogWWFubmljayBGZXJ0csOpIDx5YW5uaWNrLmZl
cnRyZUBzdC5jb20+Ci0tLQogYXJjaC9zYW5kYm94L2R0cy9zYW5kYm94LmR0cyAgICAgfCAgNiAr
Ky0KIGNvbmZpZ3Mvc2FuZGJveF9kZWZjb25maWcgICAgICAgIHwgIDEgKwogZHJpdmVycy92aWRl
by9LY29uZmlnICAgICAgICAgICAgfCAxMSArKysrKwogZHJpdmVycy92aWRlby9NYWtlZmlsZSAg
ICAgICAgICAgfCAgMiArCiBkcml2ZXJzL3ZpZGVvL2RzaS1ob3N0LXVjbGFzcy5jICB8IDM5ICsr
KysrKysrKysrKysrKysrCiBkcml2ZXJzL3ZpZGVvL3NhbmRib3hfZHNpX2hvc3QuYyB8IDkwICsr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysKIGluY2x1ZGUvZG0vdWNsYXNz
LWlkLmggICAgICAgICAgIHwgIDEgKwogaW5jbHVkZS9kc2lfaG9zdC5oICAgICAgICAgICAgICAg
fCA3MyArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKwogdGVzdC9kbS9NYWtlZmlsZSAg
ICAgICAgICAgICAgICAgfCAgMSArCiB0ZXN0L2RtL2RzaV9ob3N0LmMgICAgICAgICAgICAgICB8
IDU4ICsrKysrKysrKysrKysrKysrKysrKysrKysrCiAxMCBmaWxlcyBjaGFuZ2VkLCAyODEgaW5z
ZXJ0aW9ucygrKSwgMSBkZWxldGlvbigtKQogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvdmlk
ZW8vZHNpLWhvc3QtdWNsYXNzLmMKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL3ZpZGVvL3Nh
bmRib3hfZHNpX2hvc3QuYwogY3JlYXRlIG1vZGUgMTAwNjQ0IGluY2x1ZGUvZHNpX2hvc3QuaAog
Y3JlYXRlIG1vZGUgMTAwNjQ0IHRlc3QvZG0vZHNpX2hvc3QuYwoKZGlmZiAtLWdpdCBhL2FyY2gv
c2FuZGJveC9kdHMvc2FuZGJveC5kdHMgYi9hcmNoL3NhbmRib3gvZHRzL3NhbmRib3guZHRzCmlu
ZGV4IDE2YTMzZGIuLmYxNjM3YzggMTAwNjQ0Ci0tLSBhL2FyY2gvc2FuZGJveC9kdHMvc2FuZGJv
eC5kdHMKKysrIGIvYXJjaC9zYW5kYm94L2R0cy9zYW5kYm94LmR0cwpAQCAtMjUsNiArMjUsMTEg
QEAKIAkJY29tcGF0aWJsZSA9ICJnb29nbGUsY3Jvcy1lYy1zYW5kYm94IjsKIAl9OwogCisJZHNp
X2hvc3Q6IGRzaV9ob3N0IHsKKwkJY29tcGF0aWJsZSA9ICJzYW5kYm94LGRzaS1ob3N0IjsKKwkJ
c3RhdHVzID0gIm9rYXkiOworCX07CisKIAlldGhyYXdidXMgewogCQljb21wYXRpYmxlID0gInNh
bmRib3gsZXRoLXJhdy1idXMiOwogCQlza2lwLWxvY2FsaG9zdCA9IDwwPjsKQEAgLTYzLDcgKzY4
LDYgQEAKIAkJY29tcGF0aWJsZSA9ICJzYW5kYm94LHNwaSI7CiAJCWNzLWdwaW9zID0gPDA+LCA8
JmdwaW9fYSAwPjsKIAl9OwotCiB9OwogCiAjaW5jbHVkZSAic2FuZGJveC5kdHNpIgpkaWZmIC0t
Z2l0IGEvY29uZmlncy9zYW5kYm94X2RlZmNvbmZpZyBiL2NvbmZpZ3Mvc2FuZGJveF9kZWZjb25m
aWcKaW5kZXggZjc3YjllOC4uM2YyZGM5OSAxMDA2NDQKLS0tIGEvY29uZmlncy9zYW5kYm94X2Rl
ZmNvbmZpZworKysgYi9jb25maWdzL3NhbmRib3hfZGVmY29uZmlnCkBAIC0yMDYsNiArMjA2LDcg
QEAgQ09ORklHX0NPTlNPTEVfUk9UQVRJT049eQogQ09ORklHX0NPTlNPTEVfVFJVRVRZUEU9eQog
Q09ORklHX0NPTlNPTEVfVFJVRVRZUEVfQ0FOVE9SQU9ORT15CiBDT05GSUdfVklERU9fU0FOREJP
WF9TREw9eQorQ09ORklHX1ZJREVPX0RTSV9IT1NUX1NBTkRCT1g9eQogQ09ORklHX09TRD15CiBD
T05GSUdfU0FOREJPWF9PU0Q9eQogQ09ORklHX1cxPXkKZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmlk
ZW8vS2NvbmZpZyBiL2RyaXZlcnMvdmlkZW8vS2NvbmZpZwppbmRleCAzNmY2NjZlLi5jZGFmNjE2
IDEwMDY0NAotLS0gYS9kcml2ZXJzL3ZpZGVvL0tjb25maWcKKysrIGIvZHJpdmVycy92aWRlby9L
Y29uZmlnCkBAIC02ODYsNiArNjg2LDE3IEBAIGNvbmZpZyBWSURFT19EV19IRE1JCiAJICByYXRo
ZXIgcmVxdWlyZXMgYSBTb0Mtc3BlY2lmaWMgZ2x1ZSBkcml2ZXIgdG8gY2FsbCBpdCksIGl0CiAJ
ICBjYW4gbm90IGJlIGVuYWJsZWQgZnJvbSB0aGUgY29uZmlndXJhdGlvbiBtZW51LgogCitjb25m
aWcgVklERU9fRFNJX0hPU1RfU0FOREJPWAorCWJvb2wgIkVuYWJsZSBzYW5kYm94IGZvciBkc2kg
aG9zdCIKKwlkZXBlbmRzIG9uIFNBTkRCT1gKKwlzZWxlY3QgVklERU9fTUlQSV9EU0kKKwloZWxw
CisJICBFbmFibGUgc3VwcG9ydCBmb3Igc2FuZGJveCBkc2kgaG9zdCBkZXZpY2UgdXNlZCBmb3Ig
dGVzdGluZworCSAgcHVycG9zZXMuCisJICBEaXNwbGF5IFNlcmlhbCBJbnRlcmZhY2UgKERTSSkg
ZGVmaW5lcyBhIHNlcmlhbCBidXMgYW5kCisJICBhIGNvbW11bmljYXRpb24gcHJvdG9jb2wgYmV0
d2VlbiB0aGUgaG9zdCBhbmQgdGhlIGRldmljZQorCSAgKHBhbmVsLCBicmlkZ2UpLgorCiBjb25m
aWcgVklERU9fU0lNUExFCiAJYm9vbCAiU2ltcGxlIGRpc3BsYXkgZHJpdmVyIGZvciBwcmVjb25m
aWd1cmVkIGRpc3BsYXkiCiAJaGVscApkaWZmIC0tZ2l0IGEvZHJpdmVycy92aWRlby9NYWtlZmls
ZSBiL2RyaXZlcnMvdmlkZW8vTWFrZWZpbGUKaW5kZXggN2RmOWIwYi4uMDdhYWNhOSAxMDA2NDQK
LS0tIGEvZHJpdmVycy92aWRlby9NYWtlZmlsZQorKysgYi9kcml2ZXJzL3ZpZGVvL01ha2VmaWxl
CkBAIC0xMSw2ICsxMSw3IEBAIG9iai0kKENPTkZJR19DT05TT0xFX1JPVEFUSU9OKSArPSBjb25z
b2xlX3JvdGF0ZS5vCiBvYmotJChDT05GSUdfQ09OU09MRV9UUlVFVFlQRSkgKz0gY29uc29sZV90
cnVldHlwZS5vIGZvbnRzLwogb2JqLSQoQ09ORklHX0RJU1BMQVkpICs9IGRpc3BsYXktdWNsYXNz
Lm8KIG9iai0kKENPTkZJR19ETV9WSURFTykgKz0gYmFja2xpZ2h0LXVjbGFzcy5vCitvYmotJChD
T05GSUdfVklERU9fTUlQSV9EU0kpICs9IGRzaS1ob3N0LXVjbGFzcy5vCiBvYmotJChDT05GSUdf
RE1fVklERU8pICs9IHBhbmVsLXVjbGFzcy5vIHNpbXBsZV9wYW5lbC5vCiBvYmotJChDT05GSUdf
RE1fVklERU8pICs9IHZpZGVvLXVjbGFzcy5vIHZpZGNvbnNvbGUtdWNsYXNzLm8KIG9iai0kKENP
TkZJR19ETV9WSURFTykgKz0gdmlkZW9fYm1wLm8KQEAgLTU4LDYgKzU5LDcgQEAgb2JqLSQoQ09O
RklHX1ZJREVPX01WRUJVKSArPSBtdmVidV9sY2Qubwogb2JqLSQoQ09ORklHX1ZJREVPX01YMykg
Kz0gbXgzZmIubyB2aWRlb21vZGVzLm8KIG9iai0kKENPTkZJR19WSURFT19NWFMpICs9IG14c2Zi
Lm8gdmlkZW9tb2Rlcy5vCiBvYmotJChDT05GSUdfVklERU9fT01BUDMpICs9IG9tYXAzX2Rzcy5v
CitvYmotJChDT05GSUdfVklERU9fRFNJX0hPU1RfU0FOREJPWCkgKz0gc2FuZGJveF9kc2lfaG9z
dC5vCiBvYmotJChDT05GSUdfVklERU9fU0FOREJPWF9TREwpICs9IHNhbmRib3hfc2RsLm8KIG9i
ai0kKENPTkZJR19WSURFT19TSU1QTEUpICs9IHNpbXBsZWZiLm8KIG9iai0kKENPTkZJR19WSURF
T19URUdSQTIwKSArPSB0ZWdyYS5vCmRpZmYgLS1naXQgYS9kcml2ZXJzL3ZpZGVvL2RzaS1ob3N0
LXVjbGFzcy5jIGIvZHJpdmVycy92aWRlby9kc2ktaG9zdC11Y2xhc3MuYwpuZXcgZmlsZSBtb2Rl
IDEwMDY0NAppbmRleCAwMDAwMDAwLi4xZGIxZjg4Ci0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVy
cy92aWRlby9kc2ktaG9zdC11Y2xhc3MuYwpAQCAtMCwwICsxLDM5IEBACisvLyBTUERYLUxpY2Vu
c2UtSWRlbnRpZmllcjogR1BMLTIuMCsKKy8qCisgKiBDb3B5cmlnaHQgKEMpIDIwMTkgU1RNaWNy
b2VsZWN0cm9uaWNzIC0gQWxsIFJpZ2h0cyBSZXNlcnZlZAorICogQXV0aG9yKHMpOiBZYW5uaWNr
IEZlcnRyZSA8eWFubmljay5mZXJ0cmVAc3QuY29tPiBmb3IgU1RNaWNyb2VsZWN0cm9uaWNzLgor
ICoKKyAqLworCisjaW5jbHVkZSA8Y29tbW9uLmg+CisjaW5jbHVkZSA8ZG0uaD4KKyNpbmNsdWRl
IDxkc2lfaG9zdC5oPgorCitpbnQgZHNpX2hvc3RfaW5pdChzdHJ1Y3QgdWRldmljZSAqZGV2LAor
CQkgIHN0cnVjdCBtaXBpX2RzaV9kZXZpY2UgKmRldmljZSwKKwkJICBzdHJ1Y3QgZGlzcGxheV90
aW1pbmcgKnRpbWluZ3MsCisJCSAgdW5zaWduZWQgaW50IG1heF9kYXRhX2xhbmVzLAorCQkgIGNv
bnN0IHN0cnVjdCBtaXBpX2RzaV9waHlfb3BzICpwaHlfb3BzKQoreworCXN0cnVjdCBkc2lfaG9z
dF9vcHMgKm9wcyA9IGRzaV9ob3N0X2dldF9vcHMoZGV2KTsKKworCWlmICghb3BzLT5pbml0KQor
CQlyZXR1cm4gLUVOT1NZUzsKKworCXJldHVybiBvcHMtPmluaXQoZGV2LCBkZXZpY2UsIHRpbWlu
Z3MsIG1heF9kYXRhX2xhbmVzLCBwaHlfb3BzKTsKK30KKworaW50IGRzaV9ob3N0X2VuYWJsZShz
dHJ1Y3QgdWRldmljZSAqZGV2KQoreworCXN0cnVjdCBkc2lfaG9zdF9vcHMgKm9wcyA9IGRzaV9o
b3N0X2dldF9vcHMoZGV2KTsKKworCWlmICghb3BzLT5lbmFibGUpCisJCXJldHVybiAtRU5PU1lT
OworCisJcmV0dXJuIG9wcy0+ZW5hYmxlKGRldik7Cit9CisKK1VDTEFTU19EUklWRVIoZHNpX2hv
c3QpID0geworCS5pZAkJPSBVQ0xBU1NfRFNJX0hPU1QsCisJLm5hbWUJCT0gImRzaV9ob3N0IiwK
K307CmRpZmYgLS1naXQgYS9kcml2ZXJzL3ZpZGVvL3NhbmRib3hfZHNpX2hvc3QuYyBiL2RyaXZl
cnMvdmlkZW8vc2FuZGJveF9kc2lfaG9zdC5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAw
MDAwMDAuLmNkNjQ0ZWMKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL3ZpZGVvL3NhbmRib3hf
ZHNpX2hvc3QuYwpAQCAtMCwwICsxLDkwIEBACisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjog
R1BMLTIuMCsgT1IgQlNELTMtQ2xhdXNlCisvKgorICogQ29weXJpZ2h0IChDKSAyMDE5LCBTVE1p
Y3JvZWxlY3Ryb25pY3MgLSBBbGwgUmlnaHRzIFJlc2VydmVkCisgKi8KKworI2luY2x1ZGUgPGNv
bW1vbi5oPgorI2luY2x1ZGUgPGRpc3BsYXkuaD4KKyNpbmNsdWRlIDxkbS5oPgorI2luY2x1ZGUg
PGRzaV9ob3N0Lmg+CisKKy8qKgorICogc3RydWN0IHNhbmRib3hfZHNpX2hvc3RfcHJpdiAtIHBy
aXZhdGUgZGF0YSBmb3IgZHJpdmVyCisgKiBAZGV2aWNlOiBEU0kgcGVyaXBoZXJhbCBkZXZpY2UK
KyAqIEB0aW1pbmc6IERpc3BsYXkgdGltaW5ncworICogQG1heF9kYXRhX2xhbmVzOiBtYXhpbXVt
IG51bWJlciBvZiBkYXRhIGxpbmVzCisgKiBAcGh5X29wczogc2V0IG9mIGZ1bmN0aW9uIHBvaW50
ZXJzIGZvciBwZXJmb3JtaW5nIHBoeXNpY2FsIG9wZXJhdGlvbnMKKyAqLworc3RydWN0IHNhbmRi
b3hfZHNpX2hvc3RfcHJpdiB7CisJc3RydWN0IG1pcGlfZHNpX2RldmljZSAqZGV2aWNlOworCXN0
cnVjdCBkaXNwbGF5X3RpbWluZyAqdGltaW5nczsKKwl1bnNpZ25lZCBpbnQgbWF4X2RhdGFfbGFu
ZXM7CisJY29uc3Qgc3RydWN0IG1pcGlfZHNpX3BoeV9vcHMgKnBoeV9vcHM7Cit9OworCitzdGF0
aWMgaW50IHNhbmRib3hfZHNpX2hvc3RfaW5pdChzdHJ1Y3QgdWRldmljZSAqZGV2LAorCQkJCSBz
dHJ1Y3QgbWlwaV9kc2lfZGV2aWNlICpkZXZpY2UsCisJCQkJIHN0cnVjdCBkaXNwbGF5X3RpbWlu
ZyAqdGltaW5ncywKKwkJCQkgdW5zaWduZWQgaW50IG1heF9kYXRhX2xhbmVzLAorCQkJCSBjb25z
dCBzdHJ1Y3QgbWlwaV9kc2lfcGh5X29wcyAqcGh5X29wcykKK3sKKwlzdHJ1Y3Qgc2FuZGJveF9k
c2lfaG9zdF9wcml2ICpwcml2ID0gZGV2X2dldF9wcml2KGRldik7CisKKwlpZiAoIWRldmljZSkK
KwkJcmV0dXJuIC0xOworCisJaWYgKCF0aW1pbmdzKQorCQlyZXR1cm4gLTI7CisKKwlpZiAobWF4
X2RhdGFfbGFuZXMgPT0gMCkKKwkJcmV0dXJuIC0zOworCisJaWYgKCFwaHlfb3BzKQorCQlyZXR1
cm4gLTQ7CisKKwlpZiAoIXBoeV9vcHMtPmluaXQgfHwgIXBoeV9vcHMtPmdldF9sYW5lX21icHMg
fHwKKwkgICAgIXBoeV9vcHMtPnBvc3Rfc2V0X21vZGUpCisJCXJldHVybiAtNTsKKworCXByaXYt
Pm1heF9kYXRhX2xhbmVzID0gbWF4X2RhdGFfbGFuZXM7CisJcHJpdi0+cGh5X29wcyA9IHBoeV9v
cHM7CisJcHJpdi0+dGltaW5ncyA9IHRpbWluZ3M7CisJcHJpdi0+ZGV2aWNlID0gZGV2aWNlOwor
CisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBpbnQgc2FuZGJveF9kc2lfaG9zdF9lbmFibGUoc3Ry
dWN0IHVkZXZpY2UgKmRldikKK3sKKwlzdHJ1Y3Qgc2FuZGJveF9kc2lfaG9zdF9wcml2ICpwcml2
ID0gZGV2X2dldF9wcml2KGRldik7CisJdW5zaWduZWQgaW50IGxhbmVfbWJwczsKKwlpbnQgcmV0
OworCisJcHJpdi0+cGh5X29wcy0+aW5pdChwcml2LT5kZXZpY2UpOworCXJldCA9IHByaXYtPnBo
eV9vcHMtPmdldF9sYW5lX21icHMocHJpdi0+ZGV2aWNlLCBwcml2LT50aW1pbmdzLCAyLAorCQkJ
CQkgICBNSVBJX0RTSV9GTVRfUkdCODg4LCAmbGFuZV9tYnBzKTsKKwlpZiAocmV0KQorCQlyZXR1
cm4gLTE7CisKKwlwcml2LT5waHlfb3BzLT5wb3N0X3NldF9tb2RlKHByaXYtPmRldmljZSwgTUlQ
SV9EU0lfTU9ERV9WSURFTyk7CisKKwlyZXR1cm4gMDsKK30KKworc3RydWN0IGRzaV9ob3N0X29w
cyBzYW5kYm94X2RzaV9ob3N0X29wcyA9IHsKKwkuaW5pdCA9IHNhbmRib3hfZHNpX2hvc3RfaW5p
dCwKKwkuZW5hYmxlID0gc2FuZGJveF9kc2lfaG9zdF9lbmFibGUsCit9OworCitzdGF0aWMgY29u
c3Qgc3RydWN0IHVkZXZpY2VfaWQgc2FuZGJveF9kc2lfaG9zdF9pZHNbXSA9IHsKKwl7IC5jb21w
YXRpYmxlID0gInNhbmRib3gsZHNpLWhvc3QifSwKKwl7IH0KK307CisKK1VfQk9PVF9EUklWRVIo
c2FuZGJveF9kc2lfaG9zdCkgPSB7CisJLm5hbWUJCSAgICAgID0gInNhbmRib3gtZHNpLWhvc3Qi
LAorCS5pZAkJICAgICAgPSBVQ0xBU1NfRFNJX0hPU1QsCisJLm9mX21hdGNoCSAgICAgID0gc2Fu
ZGJveF9kc2lfaG9zdF9pZHMsCisJLm9wcwkJICAgICAgPSAmc2FuZGJveF9kc2lfaG9zdF9vcHMs
CisJLnByaXZfYXV0b19hbGxvY19zaXplID0gc2l6ZW9mKHN0cnVjdCBzYW5kYm94X2RzaV9ob3N0
X3ByaXYpLAorfTsKZGlmZiAtLWdpdCBhL2luY2x1ZGUvZG0vdWNsYXNzLWlkLmggYi9pbmNsdWRl
L2RtL3VjbGFzcy1pZC5oCmluZGV4IGQ0ZDk2MTAuLmQzZTliNDcgMTAwNjQ0Ci0tLSBhL2luY2x1
ZGUvZG0vdWNsYXNzLWlkLmgKKysrIGIvaW5jbHVkZS9kbS91Y2xhc3MtaWQuaApAQCAtMzksNiAr
MzksNyBAQCBlbnVtIHVjbGFzc19pZCB7CiAJVUNMQVNTX0NQVSwJCS8qIENQVSwgdHlwaWNhbGx5
IHBhcnQgb2YgYW4gU29DICovCiAJVUNMQVNTX0NST1NfRUMsCQkvKiBDaHJvbWUgT1MgRUMgKi8K
IAlVQ0xBU1NfRElTUExBWSwJCS8qIERpc3BsYXkgKGUuZy4gRGlzcGxheVBvcnQsIEhETUkpICov
CisJVUNMQVNTX0RTSV9IT1NULAkvKiBEaXNwbGF5IFNlcmlhbCBJbnRlcmZhY2UgaG9zdCAqLwog
CVVDTEFTU19ETUEsCQkvKiBEaXJlY3QgTWVtb3J5IEFjY2VzcyAqLwogCVVDTEFTU19FRkksCQkv
KiBFRkkgbWFuYWdlZCBkZXZpY2VzICovCiAJVUNMQVNTX0VUSCwJCS8qIEV0aGVybmV0IGRldmlj
ZSAqLwpkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kc2lfaG9zdC5oIGIvaW5jbHVkZS9kc2lfaG9zdC5o
Cm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAuLjlkZmM3YjMKLS0tIC9kZXYvbnVs
bAorKysgYi9pbmNsdWRlL2RzaV9ob3N0LmgKQEAgLTAsMCArMSw3MyBAQAorLyogU1BEWC1MaWNl
bnNlLUlkZW50aWZpZXI6IEdQTC0yLjArICovCisvKgorICogQ29weXJpZ2h0IChDKSAyMDE5IFNU
TWljcm9lbGVjdHJvbmljcyAtIEFsbCBSaWdodHMgUmVzZXJ2ZWQKKyAqIEF1dGhvcihzKTogWWFu
bmljayBGZXJ0cmUgPHlhbm5pY2suZmVydHJlQHN0LmNvbT4gZm9yIFNUTWljcm9lbGVjdHJvbmlj
cy4KKyAqCisgKi8KKworI2lmbmRlZiBfRFNJX0hPU1RfSAorI2RlZmluZSBfRFNJX0hPU1RfSAor
CisjaW5jbHVkZSA8bWlwaV9kc2kuaD4KKworc3RydWN0IGRzaV9ob3N0X29wcyB7CisJLyoqCisJ
ICogaW5pdCgpIC0gaW5pdGlhbGl6ZWQgdGhlIGRzaV9ob3N0CisJICoKKwkgKiBAZGV2OiBkc2kg
aG9zdCBkZXZpY2UKKwkgKiBAZGV2aWNlOiBEU0kgcGVyaXBoZXJhbCBkZXZpY2UKKwkgKiBAdGlt
aW5nOiBEaXNwbGF5IHRpbWluZ3MKKwkgKiBAbWF4X2RhdGFfbGFuZXM6IG1heGltdW0gbnVtYmVy
IG9mIGRhdGEgbGluZXMKKwkgKiBAcGh5X29wczogc2V0IG9mIGZ1bmN0aW9uIHBvaW50ZXJzIGZv
ciBwZXJmb3JtaW5nIHBoeXNpY2FsIG9wZXJhdGlvbnMKKwkgKiBAcmV0dXJuIDAgaWYgT0ssIC12
ZSBvbiBlcnJvcgorCSAqLworCWludCAoKmluaXQpKHN0cnVjdCB1ZGV2aWNlICpkZXYsCisJCSAg
ICBzdHJ1Y3QgbWlwaV9kc2lfZGV2aWNlICpkZXZpY2UsCisJCSAgICBzdHJ1Y3QgZGlzcGxheV90
aW1pbmcgKnRpbWluZ3MsCisJCSAgICB1bnNpZ25lZCBpbnQgbWF4X2RhdGFfbGFuZXMsCisJCSAg
ICBjb25zdCBzdHJ1Y3QgbWlwaV9kc2lfcGh5X29wcyAqcGh5X29wcyk7CisKKwkvKioKKwkgKiBl
bmFibGUoKSAtIEVuYWJsZSB0aGUgZHNpX2hvc3QKKwkgKgorCSAqIEBkZXY6IGRzaSBob3N0IGRl
dmljZQorCSAqIEByZXR1cm4gMCBpZiBPSywgLXZlIG9uIGVycm9yCisJICovCisJaW50ICgqZW5h
YmxlKShzdHJ1Y3QgdWRldmljZSAqZGV2KTsKKworCS8qKgorCSAqIGRpc2FibGUoKSAtIERpc2Fi
bGUgdGhlIGRzaV9ob3N0CisJICoKKwkgKiBAZGV2OiBkc2kgaG9zdCBkZXZpY2UKKwkgKiBAcmV0
dXJuIDAgaWYgT0ssIC12ZSBvbiBlcnJvcgorCSAqLworCWludCAoKmRpc2FibGUpKHN0cnVjdCB1
ZGV2aWNlICpkZXYpOworfTsKKworI2RlZmluZSBkc2lfaG9zdF9nZXRfb3BzKGRldikJKChzdHJ1
Y3QgZHNpX2hvc3Rfb3BzICopKGRldiktPmRyaXZlci0+b3BzKQorCisvKioKKyAqIGRzaV9ob3N0
X2luaXQKKyAqCisgKiBAZGV2OiBkc2kgaG9zdCBkZXZpY2UKKyAqIEBkZXZpY2U6IERTSSBwZXJp
cGhlcmFsIGRldmljZQorICogQHRpbWluZzogRGlzcGxheSB0aW1pbmdzCisgKiBAbWF4X2RhdGFf
bGFuZXM6IG1heGltdW0gbnVtYmVyIG9mIGRhdGEgbGluZXMKKyAqIEBwaHlfb3BzOiBzZXQgb2Yg
ZnVuY3Rpb24gcG9pbnRlcnMgZm9yIHBlcmZvcm1pbmcgcGh5c2ljYWwgb3BlcmF0aW9ucworICog
QHJldHVybiAwIGlmIE9LLCAtdmUgb24gZXJyb3IKKyAqLworaW50IGRzaV9ob3N0X2luaXQoc3Ry
dWN0IHVkZXZpY2UgKmRldiwKKwkJICBzdHJ1Y3QgbWlwaV9kc2lfZGV2aWNlICpkZXZpY2UsCisJ
CSAgc3RydWN0IGRpc3BsYXlfdGltaW5nICp0aW1pbmdzLAorCQkgIHVuc2lnbmVkIGludCBtYXhf
ZGF0YV9sYW5lcywKKwkJICBjb25zdCBzdHJ1Y3QgbWlwaV9kc2lfcGh5X29wcyAqcGh5X29wcyk7
CisKKy8qKgorICogZHNpX2hvc3RfZW5hYmxlCisgKgorICogQGRldjoJZHNpIGhvc3QgZGV2aWNl
CisgKiBAcmV0dXJuIDAgaWYgT0ssIC12ZSBvbiBlcnJvcgorICovCitpbnQgZHNpX2hvc3RfZW5h
YmxlKHN0cnVjdCB1ZGV2aWNlICpkZXYpOworCisjZW5kaWYKZGlmZiAtLWdpdCBhL3Rlc3QvZG0v
TWFrZWZpbGUgYi90ZXN0L2RtL01ha2VmaWxlCmluZGV4IDU1YTc5NDAuLjBjMmZkNWMgMTAwNjQ0
Ci0tLSBhL3Rlc3QvZG0vTWFrZWZpbGUKKysrIGIvdGVzdC9kbS9NYWtlZmlsZQpAQCAtMTgsNiAr
MTgsNyBAQCBvYmotJChDT05GSUdfQkxLKSArPSBibGsubwogb2JqLSQoQ09ORklHX0JPQVJEKSAr
PSBib2FyZC5vCiBvYmotJChDT05GSUdfRE1fQk9PVENPVU5UKSArPSBib290Y291bnQubwogb2Jq
LSQoQ09ORklHX0NMSykgKz0gY2xrLm8gY2xrX2NjZi5vCitvYmotJChDT05GSUdfVklERU9fTUlQ
SV9EU0kpICs9IGRzaV9ob3N0Lm8KIG9iai0kKENPTkZJR19ETV9FVEgpICs9IGV0aC5vCiBvYmot
JChDT05GSUdfRklSTVdBUkUpICs9IGZpcm13YXJlLm8KIG9iai0kKENPTkZJR19ETV9HUElPKSAr
PSBncGlvLm8KZGlmZiAtLWdpdCBhL3Rlc3QvZG0vZHNpX2hvc3QuYyBiL3Rlc3QvZG0vZHNpX2hv
c3QuYwpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi41OWZjZDU1Ci0tLSAvZGV2
L251bGwKKysrIGIvdGVzdC9kbS9kc2lfaG9zdC5jCkBAIC0wLDAgKzEsNTggQEAKKy8vIFNQRFgt
TGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wKyBPUiBCU0QtMy1DbGF1c2UKKy8qCisgKiBDb3B5
cmlnaHQgKEMpIDIwMTkgU1RNaWNyb2VsZWN0cm9uaWNzIC0gQWxsIFJpZ2h0cyBSZXNlcnZlZAor
ICogQXV0aG9yKHMpOiBZYW5uaWNrIEZlcnRyZSA8eWFubmljay5mZXJ0cmVAc3QuY29tPiBmb3Ig
U1RNaWNyb2VsZWN0cm9uaWNzLgorICovCisKKyNpbmNsdWRlIDxjb21tb24uaD4KKyNpbmNsdWRl
IDxkbS5oPgorI2luY2x1ZGUgPGRzaV9ob3N0Lmg+CisjaW5jbHVkZSA8YXNtL3N0YXRlLmg+Cisj
aW5jbHVkZSA8YXNtL3Rlc3QuaD4KKyNpbmNsdWRlIDxkbS90ZXN0Lmg+CisjaW5jbHVkZSA8dGVz
dC91dC5oPgorCitzdGF0aWMgaW50IGRtX3Rlc3RfZHNpX2hvc3RfcGh5X2luaXQodm9pZCAqcHJp
dl9kYXRhKQoreworCXJldHVybiAwOworfQorCitzdGF0aWMgdm9pZCBkbV90ZXN0X2RzaV9ob3N0
X3BoeV9wb3N0X3NldF9tb2RlKHZvaWQgKnByaXZfZGF0YSwKKwkJCQkJICAgICAgIHVuc2lnbmVk
IGxvbmcgbW9kZV9mbGFncykKK3sKK30KKworc3RhdGljIGludCBkbV90ZXN0X2RzaV9ob3N0X3Bo
eV9nZXRfbGFuZV9tYnBzKHZvaWQgKnByaXZfZGF0YSwKKwkJCQkJICAgICAgc3RydWN0IGRpc3Bs
YXlfdGltaW5nICp0aW1pbmdzLAorCQkJCQkgICAgICB1MzIgbGFuZXMsCisJCQkJCSAgICAgIHUz
MiBmb3JtYXQsCisJCQkJCSAgICAgIHVuc2lnbmVkIGludCAqbGFuZV9tYnBzKQoreworCXJldHVy
biAwOworfQorCitzdGF0aWMgY29uc3Qgc3RydWN0IG1pcGlfZHNpX3BoeV9vcHMgZG1fdGVzdF9k
c2lfaG9zdF9waHlfb3BzID0geworCS5pbml0ID0gZG1fdGVzdF9kc2lfaG9zdF9waHlfaW5pdCwK
KwkuZ2V0X2xhbmVfbWJwcyA9IGRtX3Rlc3RfZHNpX2hvc3RfcGh5X2dldF9sYW5lX21icHMsCisJ
LnBvc3Rfc2V0X21vZGUgPSBkbV90ZXN0X2RzaV9ob3N0X3BoeV9wb3N0X3NldF9tb2RlLAorfTsK
KworLyogVGVzdCB0aGF0IGRzaV9ob3N0IGRyaXZlciBmdW5jdGlvbnMgYXJlIGNhbGxlZCAqLwor
c3RhdGljIGludCBkbV90ZXN0X2RzaV9ob3N0KHN0cnVjdCB1bml0X3Rlc3Rfc3RhdGUgKnV0cykK
K3sKKwlzdHJ1Y3QgdWRldmljZSAqZGV2OworCXN0cnVjdCBtaXBpX2RzaV9kZXZpY2UgZGV2aWNl
OworCXN0cnVjdCBkaXNwbGF5X3RpbWluZyB0aW1pbmdzOworCXVuc2lnbmVkIGludCBtYXhfZGF0
YV9sYW5lcyA9IDQ7CisKKwl1dF9hc3NlcnRvayh1Y2xhc3NfZmlyc3RfZGV2aWNlX2VycihVQ0xB
U1NfRFNJX0hPU1QsICZkZXYpKTsKKworCXV0X2Fzc2VydG9rKGRzaV9ob3N0X2luaXQoZGV2LCAm
ZGV2aWNlLCAmdGltaW5ncywgbWF4X2RhdGFfbGFuZXMsCisJCQkJICAmZG1fdGVzdF9kc2lfaG9z
dF9waHlfb3BzKSk7CisKKwl1dF9hc3NlcnRvayhkc2lfaG9zdF9lbmFibGUoZGV2KSk7CisKKwly
ZXR1cm4gMDsKK30KKworRE1fVEVTVChkbV90ZXN0X2RzaV9ob3N0LCBETV9URVNURl9TQ0FOX1BE
QVRBIHwgRE1fVEVTVEZfU0NBTl9GRFQpOwotLSAKMi43LjQKCl9fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fClVib290LXN0bTMyIG1haWxpbmcgbGlzdApVYm9v
dC1zdG0zMkBzdC1tZC1tYWlsbWFuLnN0b3JtcmVwbHkuY29tCmh0dHBzOi8vc3QtbWQtbWFpbG1h
bi5zdG9ybXJlcGx5LmNvbS9tYWlsbWFuL2xpc3RpbmZvL3Vib290LXN0bTMyCg==
